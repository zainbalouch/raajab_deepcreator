(function (r) {
  "use strict";
  r(document).ready(function () {
    var c = felan_template_vars.ajax_url,
      n = r("#form-invite-popup");
    r(".felan-clear-invite").on("click", function (e) {
      e.preventDefault();
      n.find('input[type="checkbox"]').prop("checked", false);
    });
    n.each(function () {
      var e = n.find("#btn-saved-invite");
      e.on("click", function (e) {
        e.preventDefault();
        var n = r(this),
          t = r('input[name="freelancer_id"]').val(),
          i = r('input[name="author_id"]').val(),
          a = r('input[name="list_jobs"]').val(),
          o = r('input[name="jobs_invite[]"]:checked')
            .map(function () {
              return r(this).val();
            })
            .get();
        r.ajax({
          type: "POST",
          url: c,
          dataType: "json",
          data: {
            action: "felan_add_to_invite",
            freelancer_id: t,
            author_id: i,
            list_jobs: a,
            jobs_id: o,
          },
          beforeSend: function () {
            n.find(".btn-loading").fadeIn();
          },
          success: function (e) {
            if (e.success == true) {
              location.reload();
            } else {
              r(".message_error").text(e.message);
            }
            n.find(".btn-loading").fadeOut();
          },
        });
      });
    });
  });
})(jQuery);
