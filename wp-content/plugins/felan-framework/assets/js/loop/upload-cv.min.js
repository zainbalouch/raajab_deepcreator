(function(c){"use strict";var i=felan_upload_cv_vars.ajax_url,r=felan_upload_cv_vars.title,l=felan_upload_cv_vars.cv_file,n=felan_upload_cv_vars.cv_max_file_size,s=felan_upload_cv_vars.text,o=felan_upload_cv_vars.url,f=felan_upload_cv_vars.upload_nonce;c(document).ready(function(){var a=function(){var t=new plupload.Uploader({browse_button:"felan_select_cv",file_data_name:"felan_thumbnail_upload_file",drop_element:"felan_select_cv",container:"felan_cv_plupload_container",url:o,filters:{mime_types:[{title:r,extensions:l}],max_file_size:n,prevent_duplicates:true}});t.init();t.bind("UploadProgress",function(a,e){c("#felan_select_cv i").removeClass("far fa-arrow-from-bottom large");c("#felan_select_cv i").addClass("fal fa-spinner fa-spin large")});t.bind("FilesAdded",function(a,e){var r=1;a.refresh();t.start()});t.bind("Error",function(a,e){document.getElementById("cv_errors_log").innerHTML+="Error #"+e.code+": "+e.message+"<br/>"});t.bind("FileUploaded",function(a,e,r){var t=c.parseJSON(r.response);if(t.success){c(".cv_url").val(t.url);c("#felan_drop_cv").attr("data-attachment-id",t.attachment_id);c("#felan_drop_cv .cv-icon-delete").remove();c("#felan_drop_cv").append('<a class="icon cv-icon-delete" data-jobs-id="0"  data-attachment-id="'+t.attachment_id+'" href="#" ><i class="far fa-trash-alt large"></i></a>');var l='<i class="far fa-arrow-from-bottom large"></i><span>'+t.title+"</span>";c("#felan_select_cv i").addClass("far fa-arrow-from-bottom large");c("#felan_select_cv").html(l);c("#cv_url-error").hide();c("#freelancer-profile-form").find(".point-mark").change()}})};a();var e=function(o){c("body").on("click",".cv-icon-delete",function(a){a.preventDefault();var e=c(this),r=e,t=e.closest(".media-thumb-wrap"),l=e.data("jobs-id"),n=e.data("attachment-id");r.html('<i class="fal fa-spinner fa-spin large"></i>');c.ajax({type:"post",url:i,dataType:"json",data:{action:"felan_thumbnail_remove_ajax",jobs_id:l,attachment_id:n,type:o,removeNonce:f},beforeSend:function(){r.html('<i class="fal fa-spinner fa-spin large"></i>')},success:function(a){if(a.success){c("#cv_url-error").show();c(".felan_cv_file").show()}c("#felan_select_cv").html(s);c("#felan_drop_cv").attr("data-attachment-id","");c("#freelancer-profile-form").find(".point-mark").change();r.remove()},error:function(){r.html('<i class="far fa-trash-alt large"></i>')}})})};e("thumb")})})(jQuery);