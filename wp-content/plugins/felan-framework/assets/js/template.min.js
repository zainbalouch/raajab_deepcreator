var GLF=GLF||{};(function(p){"use strict";GLF.element={init:function(){GLF.element.click_outside();GLF.element.payment_method();GLF.element.select2();GLF.element.sticky_element();GLF.element.click_to_demo();GLF.element.toggle_panel();GLF.element.toggle_payout();GLF.element.toggle_faq();GLF.element.toggle_social();GLF.element.toggle_content();GLF.element.nav_scroll();GLF.element.filter_toggle();GLF.element.slick_carousel();GLF.element.click_target_blank();GLF.element.back_top_top();GLF.element.search_canvas();GLF.element.switch_account();GLF.element.review_scroll_top();GLF.element.calculate_total_apply_project();GLF.element.create_new_company();GLF.element.login_user();GLF.element.jobs_salary();GLF.element.click_outside(".input-field",".focus-result");GLF.element.click_outside(".location-field",".focus-result");GLF.element.click_outside(".type-field",".focus-result");p(".toggle-select").on("click",".toggle-show",function(){p(this).closest(".toggle-select").find(".toggle-list").slideToggle()});GLF.element.click_outside(".toggle-select",".toggle-list","slide")},jobs_salary:function(){let e;p("#jobs_salary_minimum, #jobs_salary_maximum").on("input",function(){clearTimeout(e);e=setTimeout(function(){const e=parseFloat(p("#jobs_salary_minimum").val());const t=parseFloat(p("#jobs_salary_maximum").val());if(!isNaN(e)&&!isNaN(t)){if(t<=e){alert("The Maximum value must be greater than the Minimum value.");p("#jobs_salary_maximum").val("")}}},1e3)})},login_user:function(){p("body").on("click",".btn-login.btn-login-freelancer",function(e){var t=p(this);var a=p("#popup-form .head-popup");var o='<p class="notice"><i class="fal fa-exclamation-circle"></i>';o+="You must Sign in as a Freelancer.";o+="</p>";if(!a.find(".notice").length){a.append(o)}})},create_new_company:function(){var e=p('select[name="jobs_select_company"],select[name="project_select_company"]').val();if(e==="new_company"){p(".new-company-form").slideDown()}else{p(".new-company-form").slideUp()}p('select[name="jobs_select_company"],select[name="project_select_company"]').on("select2:select",function(e){var t=p(this).val();if(t==="new_company"){p(".new-company-form").slideDown()}else{p(".new-company-form").slideUp()}})},calculate_total_apply_project:function(){p("body").on("click",".btn-apply-project",function(e){var t=p(this).data("maximum-time");var a=p(this).data("author-id");var o=p(this).data("post-current");var n=p(this).data("proposal-id");var i=p(this).data("info-price");var l=p(this).data("info-hours");p("#form-apply-project").find('textarea[name="content_message"]').val("");p("#form-apply-project").find(".budget .number").val("");p("#form-apply-project").find(".price .text").val("");p("#form-apply-project #proposal_price").val("");p("#form-apply-project #proposal_time").val("");p("#form-apply-project #proposal_price, #form-apply-project #proposal_time").on("input",function(){const e=p("#form-apply-project");let t=parseFloat(p("#proposal_price").val())||0;let a=parseFloat(p("#proposal_time").val())||1;let o=p("#enable_commission").val();let n=o==="1"?parseFloat(p("#commission_fee").val())||0:0;let i=t-t*(n/100);let l=i*a;let s=Math.round(t*100)/100;let r=Math.round(t*(n/100)*100)/100;let c=Math.round(i*100)/100;let f=Math.round(l*100)/100;e.find(".budget .number").text(s.toFixed(2));e.find(".fee .number").text(r.toFixed(2));e.find(".total-hours .number").text(c.toFixed(2));e.find(".estimated-hours .number").text(a);e.find(".total .number").text(f.toFixed(2))});e.preventDefault();if(p(this).hasClass("fixed")){p("#form-apply-project #proposal_time").closest(".form-group").hide();p("#form-apply-project li.total-hours").hide();p("#form-apply-project li.estimated-hours").hide();p("#form-apply-project #proposal_fixed_time").closest(".form-group").show();p("#form-apply-project #proposal_rate").show()}else{p("#form-apply-project #proposal_time").closest(".form-group").show();p("#form-apply-project li.total-hours").show();p("#form-apply-project li.estimated-hours").show();p("#form-apply-project #proposal_fixed_time").closest(".form-group").hide();p("#form-apply-project #proposal_rate").hide()}p("#form-apply-project .info-hours .number").html(l);p("#form-apply-project .info-budget .number").html(i);p("input#project_maximum_time").val(t);p("input#project_author_id").val(a);p("input#project_post_current").val(o);p("input#proposal_id").val(n)})},review_scroll_top:function(){p("a.review-count").on("click",function(e){e.preventDefault();var t=p(this).attr("href");p("html, body").animate({scrollTop:p(t).offset().top},1e3)})},switch_account:function(){p(".felan-switch-account").on("click",function(){var e=felan_template_vars.ajax_url;var t=p(this).data("new-role");var a=p(this).data("redirect");console.log(a);p.ajax({url:e,type:"POST",dataType:"json",data:{action:"felan_switch_account_ajax",new_role:t},beforeSend:function(){p(".felan-switch-account .image i").addClass("fa-spin")},success:function(e){if(e.success===true){window.location.href=a;p(".felan-switch-account .image i").removeClass("fa-spin")}},error:function(){alert("Failed to switch account.")}})})},search_canvas:function(){p(".form-search-canvas select[name='post_type']").on("change",function(e){e.preventDefault();var t=felan_template_vars.ajax_url;var a=p(this).val();p.ajax({type:"post",url:t,dataType:"json",data:{action:"felan_canvas_search_ajax",post_type:a},beforeSend:function(){p(".form-search-canvas .form-group.location").addClass("loading")},success:function(e){if(e.success===true){p(".form-search-canvas .form-group.location").html(e.taxonomy_html);p(".form-search-canvas .form-group.location").removeClass("loading");p(".felan-select2").select2()}}})})},scroll_to:function(e){var t=p(e).offset().top;p("html, body").animate({scrollTop:t-100},500)},click_to_demo:function(){p(".menu a").on("click",function(e){var t=p(this).attr("href");if(t=="#demo"){e.preventDefault();scroll_to(t)}})},counter_showing_number:function(){const t=p(".freelancer-skills").width();const e=p(".label-skills").outerHeight(true);const a=p(".label-skills").outerWidth(true);const o=p(".label-skills").length;let n=0;p(".label-skills").each(function(){const e=p(this).position().left+p(this).outerWidth(true);if(e>t){n++;p(this).hide()}});if(n>0){p(".counter").html(`<a id="moreButton">+ ${n}</a>`)}p("#moreButton").click(function(){p(".label-skills:hidden").show();n=0;if(n<=itemsPerRow){p("#moreButton").hide()}else{p("#moreButton").html(`+ ${n}`)}})},click_outside:function(a,o,n){p(document).on("click",function(e){var t=p(a);if(t!==e.target&&!t.has(e.target).length){if(n){if(o){t.find(o).slideUp()}else{t.slideUp()}}else{if(o){t.find(o).hide()}else{t.hide()}}}})},payment_method:function(){p(".felan-payment-method-wrap .radio").on("click",function(){p(".felan-payment-method-wrap .radio").removeClass("active");p(this).addClass("active")})},select2:function(){var t="";p(".felan-select2").each(function(){var e=p(this).find("option");if(theme_vars.enable_search_box_dropdown==1){if(e.length>theme_vars.limit_search_box){t=p(this).select2()}else{t=p(this).select2({minimumResultsForSearch:-1})}}else{t=p(this).select2({minimumResultsForSearch:-1})}});if(p(".elementor-editor-active").length){elementorFrontend.hooks.addAction("frontend/element_ready/widget",function(e){e.find(".felan-select2").select2()})}p(".felan-select2.prefix-code").each(function(){var e=p(this).closest(".tel-group");var t=p(this).find("option:selected").val();e.find(".select2-selection__rendered").removeClass(function(e,t){var a=t.split(" ");return a.filter(function(e){return e!=="select2-selection__rendered"}).join(" ")}).addClass(t)});var e=p(".prefix-code").find("option:selected").attr("data-dial-code");var a=p(".tel-group").find('input[type="tel"]').val();if(a==""){p(".tel-group").find('input[type="tel"]').val(e)}p(".felan-select2.prefix-code").on("select2:select",function(){var e=p(this).closest(".tel-group");var t=p(this).find("option:selected").val();var a=p(this).find("option:selected").attr("data-dial-code");e.find(".select2-selection__rendered").removeClass(function(e,t){var a=t.split(" ");return a.filter(function(e){return e!=="select2-selection__rendered"}).join(" ")}).addClass(t);e.find('input[type="tel"]').val(a)});p(".select2.select2-container").on("click",function(){var e=p(this).prev().find("option");e.each(function(){var e=p(this).val();var t=p(this).attr("data-level");p('.select2-results li[id$="'+e+'"]').attr("data-level",t)});if(p(this).hasClass("select2-hidden-accessible")){p(this).select2("destroy").select2()}});p(".felan-form-location .icon-arrow i").on("click",function(){var e=p(this).closest(".felan-form-location").find("select.felan-select2 option");e.each(function(){var e=p(this).val();var t=p(this).attr("data-level");p('.select2-results li[id$="'+e+'"]').attr("data-level",t)})})},sticky_element:function(){var e="";if(p(".ricetheme-sticky").length>0){e=p(".ricetheme-sticky").offset().top}var t=p("#wpadminbar").length;var a=p(".ricetheme-sticky").height();var o=0;var n=0;if(t>0){o=p("#wpadminbar").height();p(".ricetheme-sticky").addClass("has-wpadminbar")}var i=0;p(window).scroll(function(e){var t=p(this).scrollTop();if(t<i){p(".ricetheme-sticky").addClass("on")}else{p(".ricetheme-sticky").removeClass("on")}if(t<a+o){p(".ricetheme-sticky").removeClass("on")}i=t});p(".block-archive-sidebar").each(function(){var e=p(this);if(e.hasClass("has-sticky")){e.removeClass("has-sticky");e.parents(".widget-area-init").addClass("has-sticky")}})},toggle_panel:function(){p(".block-panel").on("click",".block-tab",function(){var e=p(this).closest(".block-panel");if(e.hasClass("active")){e.removeClass("active");e.find(".block-content").slideUp(300)}else{p(".entry-property-element .block-panel").removeClass("active");p(".entry-property-element .block-panel .block-content").slideUp(300);e.addClass("active");e.find(".block-content").slideDown(300)}})},toggle_payout:function(){p(".felan-payout-dashboard").on("click",".payout-item .title",function(e){e.preventDefault();p(this).toggleClass("active");p(this).parent().find(".content").slideToggle()})},toggle_faq:function(){p(".service-faq-details").on("click",".faq-header",function(e){e.preventDefault();p(this).parent().find(".faq-content").slideToggle()});p(".project-faq-details").on("click",".faq-header",function(e){e.preventDefault();p(this).parent().find(".faq-content").slideToggle()})},toggle_social:function(){p(".toggle-social").on("click",".btn-share",function(e){e.preventDefault();p(this).parent().toggleClass("active");p(this).parent().find(".social-share").slideToggle(300)})},toggle_content:function(){var e=p(".single-jobs .jobs-content .inner-content .entry-visibility").height();if(e>130){p(".single-jobs .jobs-content").addClass("on")}p(".show-more").on("click",function(e){e.preventDefault();p(this).parents(".jobs-area").addClass("active")});p(".hide-all").on("click",function(e){e.preventDefault();p(this).parents(".jobs-area").removeClass("active")});p(".open-toggle").on("click",function(e){e.preventDefault();p(this).parent().toggleClass("active")});p(document).on("click",function(e){var t=p(".form-toggle");if(t!==e.target&&!t.has(e.target).length){t.removeClass("active")}});p("body").on("click",".area-booking .minus",function(e){var t=p(this).parents(".product-quantity").find(".input-text.qty");var a=p(this).parents(".product-quantity").find(".input-text.qty").attr("name");var o=parseInt(t.val())-1;if(t.val()>0)t.attr("value",o);p(this).parents(".area-booking").find(".open-toggle").addClass("active");if(o>0){p(this).parents(".area-booking").find("."+a+" span").text(parseInt(o))}else{p(this).parents(".area-booking").find("."+a+" span").text(0)}})},nav_scroll:function(){p('.nav-scroll a[href^="#"]').on("click",function(e){e.preventDefault();var t=p(this.getAttribute("href"));var a=0;if(p("#wpadminbar").height()){a=p("#wpadminbar").height()}if(t.length){if(p(window).width()>767){var o=t.offset().top-15-a}else{var o=t.offset().top-15-a}p("html, body").stop().animate({scrollTop:o},500)}p(".nav-scroll li").removeClass("active");p(this).parent().addClass("active")});p(window).scroll(function(){var o=p(window).scrollTop();p(".group-field").each(function(e){if(p(this).offset().top<=o+50){var t=p(this).attr("id"),a="#"+t;p(".nav-scroll a").parent().removeClass("active");p(".nav-scroll a").each(function(){var e=p(this).attr("href");if(e==a){p(this).parent().addClass("active")}})}})})},filter_toggle:function(){p(".btn-canvas-filter").on("click",function(e){e.preventDefault();p("body").css("overflow","hidden");p("body").addClass("open-popup");p(this).toggleClass("active");p(".archive-filter").toggleClass("open-canvas")});p(".archive-filter").on("click",".btn-close,.bg-overlay,.show-result .felan-button",function(e){e.preventDefault();p("body").css("overflow","inherit");p("body").removeClass("open-popup");p(this).parents(".archive-filter").removeClass("open-canvas");p(".btn-canvas-filter").removeClass("active")})},slick_carousel:function(){var o=false;if(p("body").hasClass("rtl")){o=true}p(".felan-slick-carousel").each(function(){var e=p(this);var t={slidesToShow:1,slidesToScroll:1,arrows:true,prevArrow:'<div class="gl-prev slick-arrow"><i class="far fa-angle-left large"></i></div>',nextArrow:'<div class="gl-next slick-arrow"><i class="far fa-angle-right large"></i></div>',dots:false,fade:false,infinite:false,centerMode:false,adaptiveHeight:true,pauseOnFocus:true,pauseOnHover:true,swipe:true,draggable:true,rtl:o,autoplay:false,autoplaySpeed:250,speed:250};if(e.hasClass("slick-nav")){t["prevArrow"]='<div class="gl-prev"><i class="far fa-angle-left large"></i></div>';t["nextArrow"]='<div class="gl-next"><i class="far fa-angle-right large"></i></div>'}var a=p.extend({},t,e.data("slick"));e.slick(a)})},click_target_blank:function(){var e=p(".post-type-archive .archive-layout .is-popup");e.find(".felan-link-item:not(.btn-single-settings)").prop("target","_blank")},back_top_top:function(){p(window).scroll(function(){if(p(window).scrollTop()>500){p("#back-to-top").addClass("is-active")}else{p("#back-to-top").removeClass("is-active")}});p("#back-to-top").on("click",function(e){e.preventDefault();p("html, body").animate({scrollTop:0},500)})}};GLF.onReady={init:function(){GLF.element.init()}};GLF.onLoad={init:function(){}};GLF.onResize={init:function(){}};p(document).ready(GLF.onReady.init);p(window).resize(GLF.onResize.init);p(window).load(GLF.onLoad.init)})(jQuery);