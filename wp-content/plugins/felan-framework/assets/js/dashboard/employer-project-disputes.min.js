(function(o){"use strict";var f=o(".felan-project-disputes"),s=felan_project_disputes_vars.ajax_url,p=felan_project_disputes_vars.not_disputes;o(document).ready(function(){f.find(".select-pagination").change(function(){var n="";o(".select-pagination option:selected").each(function(){n+=o(this).val()+" "});o(this).attr("value")}).trigger("change");f.find("select.search-control").on("change",function(){o(".felan-pagination").find('input[name="paged"]').val(1);e()});f.find("input.search-control").on("input",function(){o(".felan-pagination").find('input[name="paged"]').val(1);e()});function n(t,e){var i=0;return function(){var n=this,a=arguments;clearTimeout(i);i=setTimeout(function(){t.apply(n,a)},e||0)}}f.find("input.disputes-search-control").keyup(n(function(){o(".felan-pagination").find('input[name="paged"]').val(1);e()},1e3));o("body").on("click",".felan-project-disputes .felan-pagination a.page-numbers",function(n){n.preventDefault();o(".felan-pagination li .page-numbers").removeClass("current");o(this).addClass("current");var a=o(this).text();var t=1;if(f.find(".felan-pagination").find('input[name="paged"]').val()){t=f.find(".felan-pagination").find('input[name="paged"]').val()}if(o(this).hasClass("next")){a=parseInt(t)+1}if(o(this).hasClass("prev")){a=parseInt(t)-1}f.find(".felan-pagination").find('input[name="paged"]').val(a);e()});var a=1;f.find(".select-pagination").attr("data-value",a);function e(){var d=1;var n=f.find("#disputes").height();var a=f.find('input[name="disputes_search"]').val(),t=f.find('select[name="disputes_status"]').val(),e=f.find('select[name="item_amount"]').val(),i=f.find('select[name="disputes_sort_by"]').val();d=f.find(".felan-pagination").find('input[name="paged"]').val();o.ajax({dataType:"json",url:s,data:{action:"felan_employer_project_disputes",item_amount:e,paged:d,disputes_search:a,disputes_status:t,disputes_sort_by:i},beforeSend:function(){f.find(".felan-loading-effect").addClass("loading").fadeIn()},success:function(n){if(n.success===true){var a=f.find(".items-pagination"),t=a.find('select[name="item_amount"] option:selected').val(),e=n.total_post,i=t*d+1-t,s=t*d;if(e<i){i=t*(d-1)+1}if(e<s){s=e}o(".num-first").text(i);o(".num-last").text(s);if(e>t){a.closest(".pagination-dashboard").show();a.find(".num-total").html(n.total_post)}else{a.closest(".pagination-dashboard").hide()}f.find(".pagination").html(n.pagination);f.find("#disputes tbody").fadeOut("fast",function(){f.find("#disputes tbody").html(n.disputes_html);f.find("#disputes tbody").fadeIn(300)});f.find("#disputes").css("height","auto")}else{f.find("#disputes tbody").html('<span class="not-disputes">'+p+"</span>")}f.find(".felan-loading-effect").removeClass("loading").fadeOut()}})}})})(jQuery);