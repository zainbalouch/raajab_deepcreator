var DASHBOARD=DASHBOARD||{};(function(k){"use strict";DASHBOARD={init:function(){this.closebtn();this.opennav();this.icon_setting();this.scrollToElement();this.scroll_top();this.tabs();this.tabs_active();this.tabs_change_heading();this.tabs_popup();this.form_popup();this.svg();this.search_canvas();this.select_tabs();this.about_jobs();this.service_conver_price();this.toggle_password();this.about_company();this.check_company();this.service_total_price();this.service_submit_tab()},service_submit_tab:function(){const a=k("ul.service-submit-tab");a.find(".tab-item a").on("click",function(){var a=k(this).attr("href");if(a==="#tab-pricing"){k("#submit_service_form .submit-service-header").css("max-width","100%")}else{k("#submit_service_form .submit-service-header").css("max-width","700px")}})},service_total_price:function(){const t=k(".package-addons"),i=k(".package-bottom").find(".price .number"),s=k(".package-bottom").find(".delivery-time .time"),n=s.data("delivery-time"),r=k(".package-content .price").data("start-price");t.find('input[type="checkbox"]').click(function(){let a=r;let e=n;t.find("input:checkbox:checked").each(function(){a+=parseInt(k(this).val());e+=parseInt(k(this).data("delivery-time"))});i.text(a);s.text(e);k(".package-service").find('input[name="total_price"]').val(a);k(".package-service").find('input[name="package_time"]').val(e)})},svg:function(){var a=k(".list-nav-dashboard .nav-item");var e=k(".list-nav-dashboard .nav-item.active");var t=k(".felan-nav-dashboard").data("accent");a.each(function(){k(this).find("object.felan-svg").contents().find("path").attr("stroke","white")});e.find("object.felan-svg").contents().find("path").attr("stroke",t);a.on("mouseover",function(){k(this).find("object.felan-svg").contents().find("path").attr("stroke",t)});a.on("mouseout",function(){k(this).find("object.felan-svg").contents().find("path").attr("stroke","white");e.find("object.felan-svg").contents().find("path").attr("stroke",t)})},closebtn:function(){var a=k(".nav-dashboard-wapper");var e=a.find(".closebtn");e.click(function(){k(".nav-dashboard-wapper").toggleClass("close");if(e.find("i").hasClass("fas fa-arrow-right")){e.find("i").removeAttr("class","fas fa-arrow-right");k(this).find("i").attr("class","fas fa-arrow-left");a.css({width:"260px","overflow-y":"auto"});a.find(".nav-profile-strength").css("display","block");a.find(".nav-item a").removeClass("tooltip");if(k("body").hasClass("rtl")){k(".page-dashboard #felan-content-dashboard").css("padding-right","290px")}else{k(".page-dashboard #felan-content-dashboard").css("padding-left","290px")}}else{e.find("i").removeAttr("class","fas fa-arrow-left");k(this).find("i").attr("class","fas fa-arrow-right");a.css({width:"55px","overflow-y":"unset"});a.find(".nav-profile-strength").css("display","none");a.find(".nav-item a").addClass("tooltip");if(k("body").hasClass("rtl")){a.find(".list-nav-dashboard").css("margin-right","0");k(".page-dashboard #felan-content-dashboard").css("padding-right","85px")}else{a.find(".list-nav-dashboard").css("margin-left","0");k(".page-dashboard #felan-content-dashboard").css("padding-left","85px")}}})},search_canvas:function(){var a="#"+k(".form-search-canvas .jobs-search-canvas").attr("id");var e=k(a).data("key");if(window.matchMedia("(max-width: 1199PX)").matches){k(a).autocomplete({source:e,minLength:0,autoFocus:false,focus:true}).focus(function(){k(this).data("uiAutocomplete").search(k(this).val())})}},opennav:function(){var a=k(".nav-dashboard-inner");a.find(".icon-nav-mobie").click(function(){a.toggleClass("open-nav");if(a.hasClass("open-nav")){k(this).css("left","260px")}else{k(this).css("left","0")}});a.find(".bg-overlay").click(function(){a.removeClass("open-nav");a.find(".icon-nav-mobie").css("left","0")})},icon_setting:function(){var a=".action-setting .icon-setting";k("body").on("click",a,function(a){var e=k(this).closest(".action-setting");var t=k(e).find(".action-dropdown");a.preventDefault();k(t).toggleClass("show");k(".action-setting .action-dropdown").not(t).removeClass("show");k(e).css("z-index","2");k(".action-setting").not(e).css("z-index","1")})},scrollToElement:function(){var a=k("#company-review-details");var e=location.hash.replace("#","");k(window).load(function(){if(e=="company-review-details"){k("html, body").animate({scrollTop:a.offset().top},1e3)}})},scroll_top:function(){var e=190;var t=k(".felan-submit-header");k(window).scroll(function(){var a=i();if(a>=e){t.addClass("scroll")}else{t.removeClass("scroll")}});function i(){return window.pageYOffset}},toggle_password:function(){k(".felan-toggle-password").click(function(){k(this).toggleClass("fa-eye fa-eye-slash");var a=k(k(this).attr("toggle"));if(a.attr("type")=="password"){a.attr("type","text")}else{a.attr("type","password")}})},tabs:function(){function a(a){k(".tab-dashboard ul li").removeClass("active");k(a).addClass("active");var e=k(a).find("a").attr("href");k(".tab-info").hide();k(e).show()}k(".tab-list li").click(function(){a(this);return false});a(k(".tab-list li:first-child"))},tabs_active:function(){function a(a){k(".tab-dashboard-active ul li").removeClass("active");k(".tab-info-active").removeClass("active");k(a).addClass("active");var e=k(a).find("a").attr("href");k(".tab-info-active").hide();k(e).show()}k(".tab-list-active li").click(function(){a(this);return false})},tabs_change_heading:function(){var t=k(".my-freelancer");t.find(".tab-list li").click(function(){var a=k(this).find("a");var e=a.data("text");t.find(".entry-title h4").text(e)})},tabs_popup:function(){function a(a){k(".tab-popup-warpper ul li").removeClass("active");k(a).addClass("active");var e=k(a).find("a").attr("href");k(e).show()}k(".tab-list-popup li").click(function(){k(".tab-popup").hide();a(this);return false})},form_popup:function(){k(".form-popup").each(function(){if(k(this).is("#form-invite-popup")){var e="#form-invite-popup";var a="#btn-invite-freelancer"}else if(k(this).is("#form-messages-popup")){var e="#form-messages-popup";var a="#felan-add-messages"}else if(k(this).is("#form-messages-applicants")){var e="#form-messages-applicants";var a="#btn-mees-applicants"}else if(k(this).is("#form-setting-deactive")){var e="#form-setting-deactive";var a="#btn-setting-deactive"}else if(k(this).is("#form-freelancer-user-package")){var e="#form-freelancer-user-package";var a="#action-user-package"}else if(k(this).is("#form-service-order-refund")){var e="#form-service-order-refund";var a=".btn-order-refund"}else if(k(this).is("#form-project-order-refund")){var e="#form-project-order-refund";var a=".btn-order-refund"}else if(k(this).is("#form-service-view-reason")){var e="#form-service-view-reason";var a=".btn-view-reason"}else if(k(this).is("#form-project-view-reason")){var e="#form-project-view-reason";var a=".btn-view-reason"}else if(k(this).is("#form-freelancer-withdraw")){var e="#form-freelancer-withdraw";var a="#btn-freelancer-withdraw"}else if(k(this).is("#form-project-withdraw")){var e="#form-project-withdraw";var a="#btn-project-withdraw"}else if(k(this).is("#form-employer-user-package")){var e="#form-employer-user-package";var a="#action-employer-user-package"}else if(k(this).is("#form-apply-project")){var e="#form-apply-project";var a="#felan-apply-project"}else if(k(this).is("#form-popup-review")){var e="#form-popup-review";var a=".btn-action-review"}else if(k(this).is("#form-popup-view")){var e="#form-popup-view";var a=".btn-action-view"}else{var e="#felan-form-setting-meetings";var a="#btn-meeting-settings"}var t=k(e).find(".btn-close");var i=k(e).find(".bg-overlay");var s=k(e).find(".button-cancel");function n(a){a.preventDefault();k(e).css({opacity:"1",visibility:"unset"})}function r(a){a.preventDefault();k(e).css({opacity:"0",visibility:"hidden"})}k("body").on("click",a,n);i.click(r);t.click(r);s.click(r)})},select_tabs:function(){k(".felan-section-salary-select").hide();k("#select-salary-pay").change(function(){k(".felan-section-salary-select").hide();k("#"+k(this).val()).show();if(k(this).val()=="agree"){k("#jobs_rate").hide()}else{k("#jobs_rate").show()}});k("#"+k("#select-salary-pay option[selected]").val()).show();k(".felan-section-apply-select").hide();k("#select-apply-type").change(function(){k(".felan-section-apply-select").hide();k("#"+k(this).val()).show()});k("#"+k("#select-apply-type").val()).show()},about_jobs:function(){var a=k("#jobs-submit-general"),e=a.find('input[name="jobs_title"]'),t=a.find('select[name="jobs_categories"]'),i=a.find('select[name="jobs_type"]'),s=k(".about-jobs-dashboard"),n=s.find(".title-about"),r=s.find(".cate-about"),c=s.find(".label-warpper .label-type-inner"),o=s.find(".label-warpper .label-location-inner"),l=s.find(".img-company"),f=s.find(".name-company");e.keyup(function(){var a=k(this).val();var e=n.data("title");if(a==""){n.text(e)}else{n.text(a)}}).trigger("keyup");t.change(function(){var a="";var e=r.data("cate");k(this).find("option:selected").each(function(){a+=k(this).text()+" "});if(k(this).val()==""){r.text(e)}else{r.text(a)}}).trigger("change");i.change(function(){var a="",e="";k(this).find("option:selected").each(function(){a=k(this).text()+" ";e+='<div class="label label-type">'+a+"</div>"});c.html(e)}).trigger("change");var d=k('select[name="jobs_location"]');d.change(function(){var a="";k(this).find("option:selected").each(function(){a='<div class="label label-location"><i class="fas fa-map-marker-alt"></i>'+k(this).text()+"</div>"});if(k(this).val()!==""){o.html(a)}}).trigger("change");var p=k('select[name="jobs_select_company"]');p.change(function(){var a="",e="",t=f.data("name");k(this).find("option:selected").each(function(){a=k(this).data("url");e=k(this).text()});if(a==""||a=="new_company"){l.html('<i class="far fa-camera"></i>')}else{l.html('<img src ="'+a+'" alt=""/>')}if(k(this).val()!==""&&k(this).val()!=="new_company"){f.text(e)}else{f.text(t)}}).trigger("change");var v=k("#jobs-submit-salary"),h=v.find('select[name="jobs_currency_type"]'),m=v.find('select[name="jobs_salary_show"]'),u=v.find('select[name="jobs_salary_rate"]'),g=v.find('input[name="jobs_salary_minimum"]'),b=v.find('input[name="jobs_salary_maximum"]'),y=v.find('input[name="jobs_maximum_price"]'),_=v.find('input[name="jobs_minimum_price"]'),w=s.find(".label-price");m.change(function(){var a="",e=m.find("option:selected").val(),t=w.data("text-min"),i=w.data("text-max"),s=w.data("text-agree"),n=u.find("option:selected").val(),r=h.find("option:selected").val();if(e=="range"){var c=g.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var o=b.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");y.val("");_.val("");a='<i class="fas fa-money-bill-alt"></i><span class="salary-currency">'+r+'</span><span class="salary-minimum">'+c+'</span> - <span class="salary-currency">'+r+'</span><span class="salary-maximum">'+o+'</span> / <span class="salary-rate">'+n+"</span>"}if(e=="maximum_amount"){var l=y.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");g.val("");b.val("");_.val("");a='<i class="fas fa-money-bill-alt"></i>'+i+'<span class="salary-currency">'+r+'</span><span class="price-maximum">'+l+'</span></span> / <span class="salary-rate">'+n+"</span>"}if(e=="starting_amount"){var f=_.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");g.val("");b.val("");y.val("");a='<i class="fas fa-money-bill-alt"></i>'+t+'<span class="salary-currency">'+r+'</span><span class="price-minimum">'+f+'</span></span> / <span class="salary-rate">'+n+"</span>"}if(e=="agree"){g.val("");b.val("");y.val("");_.val("");a=s}w.html(a)}).trigger("change");h.change(function(){var a=h.find("option:selected").val();k(".salary-currency").html(a)}).trigger("change");u.change(function(){var a=u.find("option:selected").val();k(".salary-rate").html(a)}).trigger("change");g.keyup(function(){var a=g.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");k(".salary-minimum").html(a)}).trigger("keyup");b.keyup(function(){var a=b.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");k(".salary-maximum").html(a)}).trigger("keyup");y.keyup(function(){var a=y.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");k(".price-maximum").html(a)}).trigger("keyup");_.keyup(function(){var a=_.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");k(".price-minimum").html(a)}).trigger("keyup")},about_company:function(){var a=k("#company-submit-general"),e=a.find('input[name="company_title"]'),t=a.find("input.avatar_url"),i=k('select[name="company_location"]'),s=k(".about-company-dashboard"),n=s.find(".title-about"),r=s.find(".des-about"),c=s.find(".location-about");e.keyup(function(){var a=k(this).val();var e=n.data("title");if(a==""){n.text(e)}else{n.text(a)}}).trigger("keyup");i.change(function(){var a="";var e=c.data("location");k(this).find("option:selected").each(function(){a+=k(this).text()+" "});if(k(this).val()==""){c.text(e)}else{c.text(a)}}).trigger("change");if(typeof tinyMCE!=="undefined"){if(k("#wp-company_des-wrap").hasClass("tmce-active")){tinyMCE.get("company_des").on("keyup",function(){var a=tinyMCE.get("company_des").getContent({format:"text"});if(a==""){r.text("")}else{r.text(a)}})}}},check_company:function(){var a=k("#company-submit-general"),e=a.find('input[name="company_website"]'),t=a.find('input[name="company_phone"]'),i=k('#company-submit-location select[name="company_location"]'),s=k(".about-company-dashboard"),n=s.find(".check-webs"),r=n.data("verified"),c=n.data("not-verified"),o=s.find(".check-phone"),l=o.data("verified"),f=o.data("not-verified"),d=s.find(".check-location"),p=d.data("verified"),v=d.data("not-verified");e.keyup(function(){var a=k(this).val();if(a!==""){n.html('<i class="fas fa-check"></i>'+r);n.addClass("active")}else{n.html('<i class="fas fa-check"></i>'+c);n.removeClass("active")}if(n.hasClass("active")&&o.hasClass("active")&&d.hasClass("active")){s.find(".felan-check-company").addClass("active")}else{s.find(".felan-check-company").removeClass("active")}}).trigger("keyup");t.keyup(function(){var a=k(this).val();if(a!==""){o.html('<i class="fas fa-check"></i>'+l);o.addClass("active")}else{o.html('<i class="fas fa-check"></i>'+f);o.removeClass("active")}if(n.hasClass("active")&&o.hasClass("active")&&d.hasClass("active")){s.find(".felan-check-company").addClass("active")}else{s.find(".felan-check-company").removeClass("active")}}).trigger("keyup");i.change(function(){var a=k(this).val();if(a!==""){d.html('<i class="fas fa-check"></i>'+p);d.addClass("active")}else{d.html('<i class="fas fa-check"></i>'+v);d.removeClass("active")}if(n.hasClass("active")&&o.hasClass("active")&&d.hasClass("active")){s.find(".felan-check-company").addClass("active")}else{s.find(".felan-check-company").removeClass("active")}}).trigger("change")},service_conver_price:function(){var a=k("#submit_service_form"),e=a.find('input[name="service_price"]'),t=a.find('input[name="price_received"]'),i=t.data("price-received");e.keyup(function(){var a=parseInt(e.val())*(100-parseInt(i))/100;t.val(parseInt(a))}).trigger("keyup")}};k(document).ready(function(){DASHBOARD.init()})})(jQuery);