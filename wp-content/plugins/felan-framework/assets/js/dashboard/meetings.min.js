!(function (i) {
  "use strict";
  i(document).ready(function () {
    var n = felan_meetings_vars.ajax_url,
      e = i("#felan-form-reschedule-meeting"),
      t = i(".meetings-dashboard"),
      a = felan_meetings_vars.not_meetings,
      d = i("#tab-upcoming"),
      s = i("#tab-completed"),
      o = i(".mettings-action-dashboard"),
      c = i(".meetings-dashboard-freelancer"),
      f = "#felan-form-reschedule-meeting",
      l = i(f).find(".btn-close"),
      r = i(f).find(".bg-overlay"),
      u = i(f).find(".button-cancel");
    function m(n) {
      n.preventDefault(), i(f).css({ opacity: "0", visibility: "hidden" });
    }
    function g(e = "", t = "") {
      var s,
        o = d.find(".row").height(),
        c = d.find('select[name="item_amount"]').val();
      (s = d.find(".felan-pagination").find('input[name="paged"]').val()),
        i.ajax({
          dataType: "json",
          url: n,
          data: {
            action: "felan_meetings_upcoming_dashboard",
            item_amount: c,
            paged: s,
            item_id: e,
            action_click: t,
          },
          beforeSend: function () {
            d.find(".felan-loading-effect").addClass("loading").fadeIn(),
              d.find(".row").height(o);
          },
          success: function (i) {
            !0 === i.success
              ? (d.find(".pagination").html(i.pagination),
                d.find(".row").fadeOut("fast", function () {
                  d.find(".row").html(i.meetings_html),
                    d.find(".row").fadeIn(300);
                }),
                d.find(".row").css("height", "auto"))
              : d
                  .find(".row")
                  .html('<span class="not-meetings">' + a + "</span>"),
              d.find(".felan-loading-effect").removeClass("loading").fadeOut();
          },
        });
    }
    function p(e = "", t = "") {
      var d,
        o = s.find(".row").height(),
        c = s.find('select[name="item_amount"]').val();
      (d = s.find(".felan-pagination").find('input[name="paged"]').val()),
        i.ajax({
          dataType: "json",
          url: n,
          data: {
            action: "felan_meetings_completed_dashboard",
            item_amount: c,
            paged: d,
            item_id: e,
            action_click: t,
          },
          beforeSend: function () {
            s.find(".felan-loading-effect").addClass("loading").fadeIn(),
              s.find(".row").height(o);
          },
          success: function (i) {
            !0 === i.success
              ? (s.find(".pagination").html(i.pagination),
                s.find(".row").fadeOut("fast", function () {
                  s.find(".row").html(i.meetings_html),
                    s.find(".row").fadeIn(300);
                }),
                s.find(".row").css("height", "auto"))
              : s
                  .find(".row")
                  .html('<span class="not-meetings">' + a + "</span>"),
              s.find(".felan-loading-effect").removeClass("loading").fadeOut();
          },
        });
    }
    r.click(m),
      l.click(m),
      u.click(m),
      i("body").on("click", ".btn-reschedule-meetings", function (n) {
        n.preventDefault();
        var t = i(this).data("id");
        e.find("#btn-meetings-reschedule").attr("applicants-id", t),
          i(f).css({ opacity: "1", visibility: "unset" });
      }),
      i("body").on("click", "#btn-meetings-reschedule", function (t) {
        t.preventDefault();
        var a = i(this).attr("applicants-id"),
          d = e.find('input[name="date_meetings"]').val(),
          s = e.find('select[name="time_meetings"]').val(),
          c = e.find('textarea[name="message_meetings"]').val(),
          f = e.find('input[name="timeduration_meetings"]').val(),
          l = o.find('input[name="mettings_action"]').val();
        i.ajax({
          type: "POST",
          url: n,
          dataType: "json",
          data: {
            action: "felan_meetings_reschedule_ajax",
            date: d,
            applicants_id: a,
            time: s,
            message: c,
            timeduration: f,
            action_metting: l,
          },
          beforeSend: function () {
            e.find(".btn-loading").fadeIn();
          },
          success: function (i) {
            1 == i.success &&
              (e.find(".message_error").addClass("true"), location.reload()),
              e.find(".message_error").html(i.message),
              e.find(".btn-loading").fadeOut();
          },
          error: function () {
            e.find(".btn-loading").fadeOut();
          },
        });
      }),
      i("body").on("click", "#btn-saved-meetings", function (e) {
        e.preventDefault();
        var t = i("#felan-form-setting-meetings"),
          a = t.find('input[name="zoomlink"]').val(),
          d = t.find('input[name="zoompw"]').val();
        i.ajax({
          type: "POST",
          url: n,
          data: { action: "felan_meetings_settings", link: a, password: d },
          beforeSend: function () {
            t.find(".btn-loading").fadeIn();
          },
          success: function () {
            t.find(".btn-loading").fadeOut(), location.reload();
          },
          error: function () {
            t.find(".btn-loading").fadeOut();
          },
        });
      }),
      i("body").on("click", ".btn-delete", function (n) {
        n.preventDefault(), g(i(this).attr("meeting-id"), "delete");
      }),
      i("body").on("click", ".btn-completed", function (n) {
        n.preventDefault(), g(i(this).attr("meeting-id"), "completed");
      }),
      i("body").on(
        "click",
        "#tab-upcoming .felan-pagination a.page-numbers",
        function (n) {
          n.preventDefault(),
            d.find(".felan-pagination li .page-numbers").removeClass("current"),
            i(this).addClass("current");
          var e = i(this).text(),
            t = 1;
          d.find(".felan-pagination").find('input[name="paged"]').val() &&
            (t = i(".felan-pagination").find('input[name="paged"]').val()),
            i(this).hasClass("next") && (e = parseInt(t) + 1),
            i(this).hasClass("prev") && (e = parseInt(t) - 1),
            d.find(".felan-pagination").find('input[name="paged"]').val(e),
            g();
        }
      ),
      i("body").on("click", ".btn-delete", function (n) {
        n.preventDefault(), p(i(this).attr("meeting-id"), "delete");
      }),
      i("body").on("click", ".btn-upcoming", function (n) {
        n.preventDefault(), p(i(this).attr("meeting-id"), "upcoming");
      }),
      i("body").on(
        "click",
        "#tab-completed .felan-pagination a.page-numbers",
        function (n) {
          n.preventDefault(),
            s.find(".felan-pagination li .page-numbers").removeClass("current"),
            i(this).addClass("current");
          var e = i(this).text(),
            t = 1;
          s.find(".felan-pagination").find('input[name="paged"]').val() &&
            (t = i(".felan-pagination").find('input[name="paged"]').val()),
            i(this).hasClass("next") && (e = parseInt(t) + 1),
            i(this).hasClass("prev") && (e = parseInt(t) - 1),
            s.find(".felan-pagination").find('input[name="paged"]').val(e),
            p();
        }
      ),
      t.find(".tab-list li").click(function () {
        var n = i(this).attr("meeting-id");
        "tab-upcoming" == i(this).find("a").attr("href").replace("#", "")
          ? g(n, "")
          : p(n, "");
      }),
      i("body").on(
        "click",
        ".meetings-dashboard-freelancer .felan-pagination a.page-numbers",
        function (e) {
          e.preventDefault(),
            c.find(".felan-pagination li .page-numbers").removeClass("current"),
            i(this).addClass("current");
          var t = i(this).text(),
            d = 1;
          c.find(".felan-pagination").find('input[name="paged"]').val() &&
            (d = i(".felan-pagination").find('input[name="paged"]').val()),
            i(this).hasClass("next") && (t = parseInt(d) + 1),
            i(this).hasClass("prev") && (t = parseInt(d) - 1),
            c.find(".felan-pagination").find('input[name="paged"]').val(t),
            (function (e = "") {
              var t = 1,
                d = c.find(".row").height(),
                s = c.find('select[name="item_amount"]').val();
              (t = c
                .find(".felan-pagination")
                .find('input[name="paged"]')
                .val()),
                i.ajax({
                  dataType: "json",
                  url: n,
                  data: {
                    action: "felan_meetings_freelancer_dashboard",
                    item_amount: s,
                    paged: t,
                    item_id: e,
                  },
                  beforeSend: function () {
                    c
                      .find(".felan-loading-effect")
                      .addClass("loading")
                      .fadeIn(),
                      c.find(".row").height(d);
                  },
                  success: function (i) {
                    !0 === i.success
                      ? (c.find(".pagination").html(i.pagination),
                        c.find(".row").fadeOut("fast", function () {
                          c.find(".row").html(i.meetings_html),
                            c.find(".row").fadeIn(300);
                        }),
                        c.find(".row").css("height", "auto"))
                      : c
                          .find(".row")
                          .html('<span class="not-meetings">' + a + "</span>"),
                      c
                        .find(".felan-loading-effect")
                        .removeClass("loading")
                        .fadeOut();
                  },
                });
            })();
        }
      );
  });
})(jQuery);
