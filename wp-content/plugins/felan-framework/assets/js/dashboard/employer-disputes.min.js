(function(f){"use strict";var o=f(".felan-disputes"),s=felan_disputes_vars.ajax_url,u=felan_disputes_vars.not_disputes;f(document).ready(function(){o.find(".select-pagination").change(function(){var n="";f(".select-pagination option:selected").each(function(){n+=f(this).val()+" "});f(this).attr("value")}).trigger("change");o.find("select.search-control").on("change",function(){f(".felan-pagination").find('input[name="paged"]').val(1);e()});o.find("input.search-control").on("input",function(){f(".felan-pagination").find('input[name="paged"]').val(1);e()});function n(t,e){var i=0;return function(){var n=this,a=arguments;clearTimeout(i);i=setTimeout(function(){t.apply(n,a)},e||0)}}o.find("input.disputes-search-control").keyup(n(function(){f(".felan-pagination").find('input[name="paged"]').val(1);e()},1e3));f("body").on("click",".felan-disputes .felan-pagination a.page-numbers",function(n){n.preventDefault();f(".felan-pagination li .page-numbers").removeClass("current");f(this).addClass("current");var a=f(this).text();var t=1;if(o.find(".felan-pagination").find('input[name="paged"]').val()){t=o.find(".felan-pagination").find('input[name="paged"]').val()}if(f(this).hasClass("next")){a=parseInt(t)+1}if(f(this).hasClass("prev")){a=parseInt(t)-1}o.find(".felan-pagination").find('input[name="paged"]').val(a);e()});var a=1;o.find(".select-pagination").attr("data-value",a);function e(){var d=1;var n=o.find("#disputes").height();var a=o.find('input[name="disputes_search"]').val(),t=o.find('select[name="disputes_status"]').val(),e=o.find('select[name="item_amount"]').val(),i=o.find('select[name="disputes_sort_by"]').val();d=o.find(".felan-pagination").find('input[name="paged"]').val();f.ajax({dataType:"json",url:s,data:{action:"felan_employer_disputes",item_amount:e,paged:d,disputes_search:a,disputes_status:t,disputes_sort_by:i},beforeSend:function(){o.find(".felan-loading-effect").addClass("loading").fadeIn()},success:function(n){if(n.success===true){var a=o.find(".items-pagination"),t=a.find('select[name="item_amount"] option:selected').val(),e=n.total_post,i=t*d+1-t,s=t*d;if(e<i){i=t*(d-1)+1}if(e<s){s=e}f(".num-first").text(i);f(".num-last").text(s);if(e>t){a.closest(".pagination-dashboard").show();a.find(".num-total").html(n.total_post)}else{a.closest(".pagination-dashboard").hide()}o.find(".pagination").html(n.pagination);o.find("#disputes tbody").fadeOut("fast",function(){o.find("#disputes tbody").html(n.disputes_html);o.find("#disputes tbody").fadeIn(300)});o.find("#disputes").css("height","auto")}else{o.find("#disputes tbody").html('<span class="not-disputes">'+u+"</span>")}o.find(".felan-loading-effect").removeClass("loading").fadeOut()}})}})})(jQuery);