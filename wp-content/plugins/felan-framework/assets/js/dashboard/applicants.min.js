!(function (a) {
  "use strict";
  var i = a(".applicants-dashboard"),
    n = felan_applicants_dashboard_vars.ajax_url,
    t = felan_applicants_dashboard_vars.not_applicants;
  a(document).ready(function () {
    var e, s, p;
    i
      .find(".select-pagination")
      .change(function () {
        a(".select-pagination option:selected").each(function () {
          a(this).val() + " ";
        }),
          a(this).attr("value");
      })
      .trigger("change"),
      i.find("select.search-control").on("change", function () {
        a(".felan-pagination").find('input[name="paged"]').val(1), c();
      }),
      i.find("input.search-control").keyup(
        ((e = function () {
          a(".felan-pagination").find('input[name="paged"]').val(1), c();
        }),
        (s = 1e3),
        (p = 0),
        function () {
          var a = this,
            i = arguments;
          clearTimeout(p),
            (p = setTimeout(function () {
              e.apply(a, i);
            }, s || 0));
        })
      ),
      a("body").on("click", ".applicants-control .btn-approved", function (i) {
        i.preventDefault(), c(a(this).attr("applicants-id"), "approved");
      }),
      a("body").on("click", ".applicants-control .btn-rejected", function (i) {
        i.preventDefault(), c(a(this).attr("applicants-id"), "rejected");
      }),
      a("body").on("click", ".felan-pagination a.page-numbers", function (n) {
        n.preventDefault(),
          i.find(".felan-pagination li .page-numbers").removeClass("current"),
          a(this).addClass("current");
        var t = a(this).text(),
          e = 1;
        i.find(".felan-pagination").find('input[name="paged"]').val() &&
          (e = a(".felan-pagination").find('input[name="paged"]').val()),
          a(this).hasClass("next") && (t = parseInt(e) + 1),
          a(this).hasClass("prev") && (t = parseInt(e) - 1),
          i.find(".felan-pagination").find('input[name="paged"]').val(t),
          c();
      });
    function c(e = "", s = "") {
      var p,
        c = i.find("#applicants-dashboard").height(),
        o = i.find('input[name="applicants_search"]').val(),
        l = i.find('select[name="item_amount"]').val(),
        d = i.find('select[name="applicants_filter_jobs"]').val(),
        f = i.find('select[name="applicants_sort_by"]').val();
      if (
        ((p = a(".felan-pagination").find('input[name="paged"]').val()),
        i.hasClass("jobs_details"))
      )
        var r = i.find('input[name="applicants_jobs_id"]').val();
      else r = "";
      a.ajax({
        dataType: "json",
        url: n,
        data: {
          action: "felan_filter_applicants_dashboard",
          item_amount: l,
          paged: p,
          applicants_search: o,
          applicants_sort_by: f,
          applicants_filter_jobs: d,
          applicants_jobs_id: r,
          item_id: e,
          action_click: s,
        },
        beforeSend: function () {
          i.find(".felan-loading-effect").addClass("loading").fadeIn(),
            i.find("#applicants-dashboard").height(c);
        },
        success: function (n) {
          if (!0 === n.success) {
            var e = i.find(".items-pagination"),
              s = e.find('select[name="item_amount"] option:selected').val(),
              c = n.total_post,
              o = s * p + 1 - s,
              l = s * p;
            c < o && (o = s * (p - 1) + 1),
              c < l && (l = c),
              a(".num-first").text(o),
              a(".num-last").text(l),
              c > s
                ? (e.closest(".pagination-dashboard").show(),
                  e.find(".num-total").html(n.total_post))
                : e.closest(".pagination-dashboard").hide(),
              i.find(".pagination").html(n.pagination),
              i.find("#my-applicants tbody").fadeOut("fast", function () {
                i.find("#my-applicants tbody").html(n.applicants_html),
                  i.find("#my-applicants tbody").fadeIn(300);
              }),
              i.find("#applicants-dashboard").css("height", "auto");
          } else
            i.find("#my-applicants tbody").html(
              '<span class="not-applicants">' + t + "</span>"
            );
          i.find(".felan-loading-effect").removeClass("loading").fadeOut();
        },
      });
    }
    i.find(".select-pagination").attr("data-value", 1);
  });
})(jQuery);
