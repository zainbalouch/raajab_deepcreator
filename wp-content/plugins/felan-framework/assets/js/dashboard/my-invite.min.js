!(function (i) {
  "use strict";
  var n = i(".felan-my-invite"),
    t = felan_my_invite_vars.ajax_url,
    a = felan_my_invite_vars.not_jobs;
  i(document).ready(function () {
    var e, o, s;
    n.find("select-pagination").change(function () {
      n.find(".select-pagination option:selected").each(function () {
        i(this).val() + " ";
      }),
        i(this).attr("value");
    }),
      n.find("select.search-control").on("change", function () {
        n.find(".felan-pagination").find('input[name="paged"]').val(1), d();
      }),
      n.find("input.jobs-search-control").keyup(
        ((e = function () {
          n.find(".felan-pagination").find('input[name="paged"]').val(1), d();
        }),
        (o = 1e3),
        (s = 0),
        function () {
          var i = this,
            n = arguments;
          clearTimeout(s),
            (s = setTimeout(function () {
              e.apply(i, n);
            }, o || 0));
        })
      ),
      i("body").on(
        "click",
        ".felan-my-invite .jobs-control .btn-delete",
        function (n) {
          n.preventDefault(), d(i(this).attr("jobs-id"), "delete");
        }
      ),
      i("body").on(
        "click",
        ".felan-my-invite .felan-pagination a.page-numbers",
        function (t) {
          t.preventDefault(),
            n.find(".felan-pagination li .page-numbers").removeClass("current"),
            i(this).addClass("current");
          var a = i(this).text(),
            e = 1;
          n.find(".felan-pagination").find('input[name="paged"]').val() &&
            (e = n.find(".felan-pagination").find('input[name="paged"]').val()),
            i(this).hasClass("next") && (a = parseInt(e) + 1),
            i(this).hasClass("prev") && (a = parseInt(e) - 1),
            n.find(".felan-pagination").find('input[name="paged"]').val(a),
            d();
        }
      );
    function d(e = "", o = "") {
      var s,
        d = n.find("#my-invite").height(),
        c = n.find('input[name="jobs_search"]').val(),
        f = n.find('select[name="item_amount"]').val(),
        l = n.find('select[name="jobs_sort_by"]').val();
      (s = n.find('.felan-pagination input[name="paged"]').val()),
        i.ajax({
          dataType: "json",
          url: t,
          data: {
            action: "felan_filter_my_invite",
            item_amount: f,
            paged: s,
            jobs_search: c,
            jobs_sort_by: l,
            item_id: e,
            action_click: o,
          },
          beforeSend: function () {
            n.find(".felan-loading-effect").addClass("loading").fadeIn(),
              n.find("#my-invite").height(d);
          },
          success: function (t) {
            if (!0 === t.success) {
              var e = n.find(".items-pagination"),
                o = e.find('select[name="item_amount"] option:selected').val(),
                d = t.total_post,
                c = o * s + 1 - o,
                f = o * s;
              d < c && (c = o * (s - 1) + 1),
                d < f && (f = d),
                e.find(".num-first").text(c),
                e.find(".num-last").text(f),
                d > o
                  ? (e.closest(".pagination-dashboard").show(),
                    e.find(".num-total").html(t.total_post))
                  : e.closest(".pagination-dashboard").hide(),
                n.find(".pagination").html(t.pagination),
                n.find("#my-invite tbody").fadeOut("fast", function () {
                  n.find("#my-invite tbody").html(t.jobs_html),
                    n.find("#my-invite tbody").fadeIn(300);
                }),
                n.find("#my-invite").css("height", "auto");
            } else
              n.find("#my-invite tbody").html(
                '<span class="not-jobs">' + a + "</span>"
              );
            i(".tab-invite-item span").html("(" + t.total_post + ")"),
              n.find(".felan-loading-effect").removeClass("loading").fadeOut();
          },
        });
    }
    n.find(".select-pagination").attr("data-value", 1);
  });
})(jQuery);
