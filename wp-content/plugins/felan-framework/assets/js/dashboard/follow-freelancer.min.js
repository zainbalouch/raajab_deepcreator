!(function (i) {
  "use strict";
  var a = i(".felan-follow-freelancer"),
    n = felan_follow_freelancer_vars.ajax_url,
    t = felan_follow_freelancer_vars.not_freelancer;
  i(document).ready(function () {
    var e, d, o;
    a.find("select-pagination").change(function () {
      a.find(".select-pagination option:selected").each(function () {
        i(this).val() + " ";
      }),
        i(this).attr("value");
    }),
      a.find("select.search-control").on("change", function () {
        a.find(".felan-pagination").find('input[name="paged"]').val(1), c();
      }),
      a.find("input.search-control").keyup(
        ((e = function () {
          a.find(".felan-pagination").find('input[name="paged"]').val(1), c();
        }),
        (d = 1e3),
        (o = 0),
        function () {
          var i = this,
            a = arguments;
          clearTimeout(o),
            (o = setTimeout(function () {
              e.apply(i, a);
            }, d || 0));
        })
      ),
      i("body").on(
        "click",
        ".felan-follow-freelancer .action-setting .btn-delete",
        function (a) {
          a.preventDefault(), c(i(this).attr("items-id"), "delete");
        }
      ),
      i("body").on(
        "click",
        ".felan-follow-freelancer .felan-pagination a.page-numbers",
        function (n) {
          n.preventDefault(),
            a.find(".felan-pagination li .page-numbers").removeClass("current"),
            i(this).addClass("current");
          var t = i(this).text(),
            e = 1;
          a.find(".felan-pagination").find('input[name="paged"]').val() &&
            (e = a.find(".felan-pagination").find('input[name="paged"]').val()),
            i(this).hasClass("next") && (t = parseInt(e) + 1),
            i(this).hasClass("prev") && (t = parseInt(e) - 1),
            a.find(".felan-pagination").find('input[name="paged"]').val(t),
            c();
        }
      );
    function c(e = "", d = "") {
      var o,
        c = a.find("#follow-freelancer").height(),
        l = a.find('input[name="freelancer_search"]').val(),
        f = a.find('select[name="item_amount"]').val(),
        s = a.find('select[name="freelancer_sort_by"]').val();
      (o = a.find('.felan-pagination input[name="paged"]').val()),
        i.ajax({
          dataType: "json",
          url: n,
          data: {
            action: "felan_filter_follow_freelancer",
            item_amount: f,
            paged: o,
            freelancer_search: l,
            freelancer_sort_by: s,
            item_id: e,
            action_click: d,
          },
          beforeSend: function () {
            a.find(".felan-loading-effect").addClass("loading").fadeIn(),
              a.find("#follow-freelancer").height(c);
          },
          success: function (n) {
            if (!0 === n.success) {
              var e = a.find(".items-pagination"),
                d = e.find('select[name="item_amount"] option:selected').val(),
                c = n.total_post,
                l = d * o + 1 - d,
                f = d * o;
              c < l && (l = d * (o - 1) + 1),
                c < f && (f = c),
                e.find(".num-first").text(l),
                e.find(".num-last").text(f),
                c > d
                  ? (e.closest(".pagination-dashboard").show(),
                    e.find(".num-total").html(n.total_post))
                  : e.closest(".pagination-dashboard").hide(),
                a.find(".pagination").html(n.pagination),
                a.find("#follow-freelancer tbody").fadeOut("fast", function () {
                  a.find("#follow-freelancer tbody").html(n.freelancer_html),
                    a.find("#follow-freelancer tbody").fadeIn(300);
                }),
                a.find("#follow-freelancer").css("height", "auto");
            } else
              a.find("#follow-freelancer tbody").html(
                '<span class="not-freelancers">' + t + "</span>"
              );
            i(".tab-follow-item span").html("(" + n.total_post + ")"),
              a.find(".felan-loading-effect").removeClass("loading").fadeOut();
          },
        });
    }
    a.find(".select-pagination").attr("data-value", 1);
  });
})(jQuery);
