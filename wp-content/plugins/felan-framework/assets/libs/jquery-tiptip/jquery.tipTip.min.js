(function(I){I.fn.tipTip=function(t){var e={activation:"hover",keepAlive:false,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:false,enter:function(){},exit:function(){}};var M=I.extend(e,t);if(I("#tiptip_holder").length<=0){var w=I('<div id="tiptip_holder" style="max-width:'+M.maxWidth+';"></div>');var O=I('<div id="tiptip_content"></div>');var x=I('<div id="tiptip_arrow"></div>');I("body").append(w.html(O).prepend(x.html('<div id="tiptip_arrow_inner"></div>')))}else{var w=I("#tiptip_holder");var O=I("#tiptip_content");var x=I("#tiptip_arrow")}return this.each(function(){var m=I(this);if(M.content){var g=M.content}else{var g=m.attr(M.attribute)}if(g!=""){if(!M.content){m.removeAttr(M.attribute)}var b=false;if(M.activation=="hover"){m.hover(function(){t()},function(){if(!M.keepAlive){e()}});if(M.keepAlive){w.hover(function(){},function(){e()})}}else if(M.activation=="focus"){m.focus(function(){t()}).blur(function(){e()})}else if(M.activation=="click"){m.click(function(){t();return false}).hover(function(){},function(){if(!M.keepAlive){e()}});if(M.keepAlive){w.hover(function(){},function(){e()})}}function t(){M.enter.call(this);O.html(g);w.hide().removeAttr("class").css("margin","0");x.removeAttr("style");var t=parseInt(m.offset()["top"]);var e=parseInt(m.offset()["left"]);var i=parseInt(m.outerWidth());var o=parseInt(m.outerHeight());var r=w.outerWidth();var n=w.outerHeight();var a=Math.round((i-r)/2);var f=Math.round((o-n)/2);var d=Math.round(e+a);var l=Math.round(t+o+M.edgeOffset);var s="";var u="";var p=Math.round(r-12)/2;if(M.defaultPosition=="bottom"){s="_bottom"}else if(M.defaultPosition=="top"){s="_top"}else if(M.defaultPosition=="left"){s="_left"}else if(M.defaultPosition=="right"){s="_right"}var v=a+e<parseInt(I(window).scrollLeft());var h=r+e>parseInt(I(window).width());if(v&&a<0||s=="_right"&&!h||s=="_left"&&e<r+M.edgeOffset+5){s="_right";u=Math.round(n-13)/2;p=-12;d=Math.round(e+i+M.edgeOffset);l=Math.round(t+f)}else if(h&&a<0||s=="_left"&&!v){s="_left";u=Math.round(n-13)/2;p=Math.round(r);d=Math.round(e-(r+M.edgeOffset+5));l=Math.round(t+f)}var c=t+o+M.edgeOffset+n+8>parseInt(I(window).height()+I(window).scrollTop());var _=t+o-(M.edgeOffset+n+8)<0;if(c||s=="_bottom"&&c||s=="_top"&&!_){if(s=="_top"||s=="_bottom"){s="_top"}else{s=s+"_top"}u=n;l=Math.round(t-(n+5+M.edgeOffset))}else if(_|(s=="_top"&&_)||s=="_bottom"&&!c){if(s=="_top"||s=="_bottom"){s="_bottom"}else{s=s+"_bottom"}u=-12;l=Math.round(t+o+M.edgeOffset)}if(s=="_right_top"||s=="_left_top"){l=l+5}else if(s=="_right_bottom"||s=="_left_bottom"){l=l-5}if(s=="_left_top"||s=="_left_bottom"){d=d+5}x.css({"margin-left":p+"px","margin-top":u+"px"});w.css({"margin-left":d+"px","margin-top":l+"px"}).attr("class","tip"+s);if(b){clearTimeout(b)}b=setTimeout(function(){w.stop(true,true).fadeIn(M.fadeIn)},M.delay)}function e(){M.exit.call(this);if(b){clearTimeout(b)}w.fadeOut(M.fadeOut)}}})}})(jQuery);