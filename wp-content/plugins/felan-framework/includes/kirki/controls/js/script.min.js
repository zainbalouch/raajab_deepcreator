if(_.isUndefined(window.kirkiSetSettingValue)){var kirkiSetSettingValue={set:function(t,n){var a=this,e=wp.customize.settings.controls[t],i;if(_.isUndefined(e)){return true}a.setValue(t,n);switch(e.type){case"kirki-background":if(!_.isUndefined(n["background-color"])){a.setColorPicker(a.findElement(t,".kirki-color-control"),n["background-color"])}a.findElement(t,".placeholder, .thumbnail").removeClass().addClass("placeholder").html("No file selected");_.each(["background-repeat","background-position"],function(e){if(!_.isUndefined(n[e])){a.setSelectWoo(a.findElement(t,"."+e+" select"),n[e])}});_.each(["background-size","background-attachment"],function(e){jQuery(a.findElement(t,"."+e+' input[value="'+n+'"]')).prop("checked",true)});i=JSON.stringify(n).replace(/'/g,"&#39");jQuery(a.findElement(t,".background-hidden-value").attr("value",i)).trigger("change");break;case"kirki-code":jQuery(a.findElement(t,".CodeMirror"))[0].CodeMirror.setValue(n);break;case"checkbox":case"kirki-switch":case"kirki-toggle":n=1===n||"1"===n||true===n?true:false;jQuery(a.findElement(t,"input")).prop("checked",n);wp.customize.instance(t).set(n);break;case"kirki-select":a.setSelectWoo(a.findElement(t,"select"),n);break;case"kirki-slider":jQuery(a.findElement(t,"input")).prop("value",n);jQuery(a.findElement(t,".kirki_range_value .value")).html(n);break;case"kirki-generic":if(_.isUndefined(e.choices)||_.isUndefined(e.choices.element)){e.choices.element="input"}jQuery(a.findElement(t,e.choices.element)).prop("value",n);break;case"kirki-color":a.setColorPicker(a.findElement(t,".kirki-color-control"),n);break;case"kirki-multicheck":a.findElement(t,"input").each(function(){jQuery(this).prop("checked",false)});_.each(n,function(e,i){jQuery(a.findElement(t,'input[value="'+n[i]+'"]')).prop("checked",true)});break;case"kirki-multicolor":_.each(n,function(e,i){a.setColorPicker(a.findElement(t,".multicolor-index-"+i),e)});break;case"kirki-radio-buttonset":case"kirki-radio-image":case"kirki-radio":case"kirki-dashicons":case"kirki-color-palette":case"kirki-palette":jQuery(a.findElement(t,'input[value="'+n+'"]')).prop("checked",true);break;case"kirki-typography":_.each(["font-family","variant"],function(e){if(!_.isUndefined(n[e])){a.setSelectWoo(a.findElement(t,"."+e+" select"),n[e])}});_.each(["font-size","line-height","letter-spacing","word-spacing"],function(e){if(!_.isUndefined(n[e])){jQuery(a.findElement(t,"."+e+" input")).prop("value",n[e])}});if(!_.isUndefined(n.color)){a.setColorPicker(a.findElement(t,".kirki-color-control"),n.color)}i=JSON.stringify(n).replace(/'/g,"&#39");jQuery(a.findElement(t,".typography-hidden-value").attr("value",i)).trigger("change");break;case"kirki-dimensions":_.each(n,function(e,i){jQuery(a.findElement(t,"."+i+" input")).prop("value",e)});break;case"kirki-repeater":break;case"kirki-custom":break;default:jQuery(a.findElement(t,"input")).prop("value",n)}},setColorPicker:function(e,i){e.attr("data-default-color",i).data("default-color",i).wpColorPicker("color",i)},setSelectWoo:function(e,i){jQuery(e).selectWoo().val(i).trigger("change")},setTextarea:function(e,i){jQuery(e).prop("value",i)},findElement:function(e,i){return wp.customize.control(e).container.find(i)},setValue:function(e,i,t){t=_.isUndefined(t)?100:parseInt(t,10);wp.customize.instance(e).set({});setTimeout(function(){wp.customize.instance(e).set(i)},t)}}}var kirki={initialized:false,initialize:function(){var e=this;if(e.initialized){return}setTimeout(function(){kirki.util.webfonts.standard.initialize();kirki.util.webfonts.google.initialize()},150);e.initialized=true}};kirki.initialize();var kirki=kirki||{};kirki=jQuery.extend(kirki,{control:{"kirki-radio":{init:function(e){var i=this;i.template(e);kirki.input.radio.init(e)},template:function(e){var i=wp.template("kirki-input-radio");e.container.html(i({label:e.params.label,description:e.params.description,"data-id":e.id,inputAttrs:e.params.inputAttrs,default:e.params.default,value:kirki.setting.get(e.id),choices:e.params.choices}))}},"kirki-color":{init:function(e){var i=this;i.template(e);kirki.input.color.init(e)},template:function(e){var i=wp.template("kirki-input-color");e.container.html(i({label:e.params.label,description:e.params.description,"data-id":e.id,mode:e.params.mode,inputAttrs:e.params.inputAttrs,"data-palette":e.params.palette,"data-default-color":e.params.default,"data-alpha":e.params.choices.alpha,value:kirki.setting.get(e.id)}))}},"kirki-generic":{init:function(e){var i=this;i.template(e);if(!_.isUndefined(e.params)&&!_.isUndefined(e.params.choices)&&!_.isUndefined(e.params.choices.element)&&"textarea"===e.params.choices.element){kirki.input.textarea.init(e);return}kirki.input.genericInput.init(e)},template:function(e){var i={label:e.params.label,description:e.params.description,"data-id":e.id,inputAttrs:e.params.inputAttrs,choices:e.params.choices,value:kirki.setting.get(e.id)},t;if(!_.isUndefined(e.params)&&!_.isUndefined(e.params.choices)&&!_.isUndefined(e.params.choices.element)&&"textarea"===e.params.choices.element){t=wp.template("kirki-input-textarea");e.container.html(t(i));return}t=wp.template("kirki-input-generic");e.container.html(t(i))}},"kirki-number":{init:function(e){var i=this;i.template(e);kirki.input.number.init(e)},template:function(e){var i=wp.template("kirki-input-number");e.container.html(i(args={label:e.params.label,description:e.params.description,"data-id":e.id,inputAttrs:e.params.inputAttrs,choices:e.params.choices,value:kirki.setting.get(e.id)}))}},"kirki-image":{init:function(e){var i=this;i.template(e);kirki.input.image.init(e)},template:function(e){var i=wp.template("kirki-input-image");e.container.html(i(args={label:e.params.label,description:e.params.description,"data-id":e.id,inputAttrs:e.params.inputAttrs,choices:e.params.choices,value:kirki.setting.get(e.id)}))}},"kirki-select":{init:function(e){var i=this;i.template(e);kirki.input.select.init(e)},template:function(e){var i=wp.template("kirki-input-select");e.container.html(i({label:e.params.label,description:e.params.description,"data-id":e.id,inputAttrs:e.params.inputAttrs,choices:e.params.choices,value:kirki.setting.get(e.id),multiple:e.params.multiple||1,placeholder:e.params.placeholder}))}}}});var kirki=kirki||{};kirki=jQuery.extend(kirki,{input:{radio:{init:function(e){var i=jQuery('input[data-id="'+e.id+'"]');i.on("change keyup paste click",function(){kirki.setting.set(e.id,jQuery(this).val())})}},color:{init:function(e){var i=jQuery('.kirki-color-control[data-id="'+e.id+'"]'),t;e.choices=e.choices||{};if(_.isEmpty(e.choices)&&e.params.choices){e.choices=e.params.choices}if(!_.isEmpty(e.choices)){i.wpColorPicker(e.choices)}setTimeout(function(){t=jQuery('.kirki-input-container[data-id="'+e.id+'"] .wp-picker-clear');if(t.length){t.click(function(){kirki.setting.set(e.id,"")})}},200);i.wpColorPicker({change:function(){setTimeout(function(){kirki.setting.set(e.id,i.val())},20)}})}},genericInput:{init:function(e){var i=jQuery('input[data-id="'+e.id+'"]');i.on("change keyup paste click",function(){kirki.setting.set(e.id,jQuery(this).val())})}},textarea:{init:function(e){var i=jQuery('textarea[data-id="'+e.id+'"]');i.on("change keyup paste click",function(){kirki.setting.set(e.id,jQuery(this).val())})}},select:{init:function(e){var i=jQuery('select[data-id="'+e.id+'"]'),t=parseInt(i.data("multiple"),10),n,a={escapeMarkup:function(e){return e}};if(e.params.placeholder){a.placeholder=e.params.placeholder;a.allowClear=true}if(1<t){a.maximumSelectionLength=t}jQuery(i).selectWoo(a).on("change",function(){n=jQuery(this).val();n=null===n&&1<t?[]:n;kirki.setting.set(e.id,n)})}},number:{init:function(t){var n=jQuery('input[data-id="'+t.id+'"]'),e=t.setting._value,i,a;t.params.choices=_.defaults(t.params.choices,{min:0,max:100,step:1});if(isNaN(e)||""===e){e=0>t.params.choices.min&&0<t.params.choices.max?0:t.params.choices.min}e=parseFloat(e);t.params.choices.step="any"===t.params.choices.step?.001:t.params.choices.step;t.params.choices.min=parseFloat(t.params.choices.min);t.params.choices.max=parseFloat(t.params.choices.max);t.params.choices.step=parseFloat(t.params.choices.step);i=jQuery('.kirki-input-container[data-id="'+t.id+'"] .plus');a=jQuery('.kirki-input-container[data-id="'+t.id+'"] .minus');i.click(function(){var e=parseFloat(n.val()),i;i=e>=t.params.choices.max?e:e+t.params.choices.step;n.val(i);n.trigger("change")});a.click(function(){var e=parseFloat(n.val()),i;i=e<=t.params.choices.min?e:e-t.params.choices.step;n.val(i);n.trigger("change")});n.on("change keyup paste click",function(){var e=jQuery(this).val();if(isNaN(e)){e=parseFloat(e,10);e=isNaN(e)?0:e;jQuery(this).attr("value",e)}kirki.setting.set(t.id,e)})}},image:{init:function(a){var i=kirki.setting.get(a.id),r=!_.isUndefined(a.params.choices)&&!_.isUndefined(a.params.choices.save_as)?a.params.choices.save_as:"url",s=a.container.find(".placeholder, .thumbnail"),e="array"===r?i.url:i,o=a.container.find(".image-upload-remove-button"),c=a.container.find(".image-default-button");i="array"===r&&_.isString(i)?{url:i}:i;if(("id"===r||"ID"===r)&&""!==i){wp.media.attachment(i).fetch().then(function(){setTimeout(function(){var e=wp.media.attachment(i).get("url");s.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+e+'" alt="" />')},700)})}if("url"===r&&""!==i||"array"===r&&!_.isUndefined(i.url)&&""!==i.url){a.container.find("image-default-button").hide()}if("url"===r&&""===i||"array"===r&&(_.isUndefined(i.url)||""===i.url)){o.hide()}if(i===a.params.default){a.container.find("image-default-button").hide()}if(""!==e){s.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+e+'" alt="" />')}a.container.on("click",".image-upload-button",function(e){var n=wp.media({multiple:false}).open().on("select",function(){var e=n.state().get("selection").first(),i=e.toJSON(),t=i.url;if(!_.isUndefined(i.sizes)){t=i.sizes.full.url;if(!_.isUndefined(i.sizes.medium)){t=i.sizes.medium.url}else if(!_.isUndefined(i.sizes.thumbnail)){t=i.sizes.thumbnail.url}}if("array"===r){kirki.setting.set(a.id,{id:i.id,url:i.sizes.full.url,width:i.width,height:i.height})}else if("id"===r){kirki.setting.set(a.id,i.id)}else{kirki.setting.set(a.id,!_.isUndefined(i.sizes)?i.sizes.full.url:i.url)}if(s.length){s.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+t+'" alt="" />')}if(o.length){o.show();c.hide()}});e.preventDefault()});a.container.on("click",".image-upload-remove-button",function(e){var i,t,n;e.preventDefault();kirki.setting.set(a.id,"");i=a.container.find(".placeholder, .thumbnail");t=a.container.find(".image-upload-remove-button");n=a.container.find(".image-default-button");if(i.length){i.removeClass().addClass("placeholder").html(kirkiL10n.noFileSelected)}if(t.length){t.hide();if(jQuery(n).hasClass("button")){n.show()}}});a.container.on("click",".image-default-button",function(e){var i,t,n;e.preventDefault();kirki.setting.set(a.id,a.params.default);i=a.container.find(".placeholder, .thumbnail");t=a.container.find(".image-upload-remove-button");n=a.container.find(".image-default-button");if(i.length){i.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+a.params.default+'" alt="" />')}if(t.length){t.show();n.hide()}})}}}});var kirki=kirki||{};kirki=jQuery.extend(kirki,{setting:{get:function(e){var i=e.split("["),t="",n=0,a="";_.each(i,function(e,i){e=e.replace("]","");if(0===i){t=e}else{t+="["+e+"]"}if(!_.isUndefined(wp.customize.instance(t))){a=wp.customize.instance(t).get();n=i}if(n<i){if(_.isObject(a)&&!_.isUndefined(a[e])){a=a[e]}}});return a},set:function(e,i,t){var n,a,r="",s="",o={},c,l,u;n=e;if(_.isObject(e)){if(jQuery(e).attr("data-id")){n=e.attr("data-id")}else{n=e.parents("[data-id]").attr("data-id")}}if("undefined"!==typeof wp.customize.control(n)){wp.customize.control(n).setting.set(i);return}a=n.split("[");_.each(a,function(e,i){e=e.replace("]","");r=0===i?e:"["+e+"]";if(!_.isUndefined(wp.customize.instance(r))){s=r;c=wp.customize.instance(s).get()}});l=n.replace(s,"");if(""!==l){if(!_.isObject(c)){c={}}if("["===l.charAt(0)){l=l.replace("[","")}u=l.split("[");_.each(u,function(e,i){u[i]=e.replace("]","")});if(t){u.push(t)}o='{"'+u.join('":{"')+'":"'+i+'"'+"}".repeat(u.length);o=JSON.parse(o);jQuery.extend(true,c,o);i=c}else{if(t){c=!_.isObject(c)?{}:c;c[t]=i;i=c}}wp.customize.control(s).setting.set(i)}}});var kirki=kirki||{};kirki=jQuery.extend(kirki,{util:{webfonts:{google:{fonts:{},initialize:function(){var e=this;e.setFonts()},setFonts:function(){var i=this;if(!_.isEmpty(i.fonts)){return}jQuery.post(ajaxurl,{action:"kirki_fonts_google_all_get"},function(e){i.fonts=JSON.parse(e)})},getFont:function(e){var i=this,t=i.getFonts();if("undefined"===typeof t[e]){return false}return t[e]},getFonts:function(e,t,i){var n=this,a={},r={},s={};e=e||"alpha";e="alpha"!==e&&"popularity"!==e&&"trending"!==e?"alpha":e;i=i||0;i=parseInt(i,10);if("alpha"===e){a=jQuery.extend({},n.fonts.items)}else{_.each(n.fonts.order[e],function(e){a[e]=n.fonts.items[e]})}if(""===t||!t){r=a}else{_.each(a,function(e,i){if(t===e.category){r[i]=e}})}if(0<i){_.each(_.first(_.keys(r),i),function(e){s[e]=r[e]});return s}return r},getVariants:function(e){var i=this,t=i.getFont(e);if(!t){return false}if(_.isUndefined(t.variants)){return false}return t.variants}},standard:{fonts:{},initialize:function(){var e=this;e.setFonts()},setFonts:function(){var i=this;if(!_.isEmpty(i.fonts)){return}jQuery.post(ajaxurl,{action:"kirki_fonts_standard_all_get"},function(e){i.fonts=JSON.parse(e)})},getVariants:function(){return["regular","italic","700","700italic"]}},getFontType:function(e){var i=this;if("undefined"!==typeof i.standard.fonts[e]||"undefined"!==typeof i.standard.fonts.stack&&"undefined"!==typeof i.standard.fonts.stack[e]){return"standard"}if("undefined"!==typeof i.google.fonts.items[e]){return"google"}return false}},validate:{cssValue:function(e){var i=["fr","rem","em","ex","%","px","cm","mm","in","pt","pc","ch","vh","vw","vmin","vmax"],t,n;if("string"!==typeof e||"number"!==typeof e){return true}if(0===e||"0"===e||"auto"===e||"inherit"===e||"initial"===e){return true}if(0<=e.indexOf("calc(")&&0<=e.indexOf(")")){return true}t=parseFloat(e);n=e.replace(t,"");if(!e){return}return!isNaN(t)&&-1<jQuery.inArray(n,i)}},parseHtmlEntities:function(e){var i=new DOMParser,t=i.parseFromString("<!doctype html><body>"+e,"text/html");return t.body.textContent}}});(function(){"use strict";wp.customize.kirkiDynamicControl=wp.customize.Control.extend({initialize:function(e,i){var t=this,n=i||{};n.params=n.params||{};if(!n.params.type){n.params.type="kirki-generic"}if(!n.params.content){n.params.content=jQuery("<li></li>");n.params.content.attr("id","customize-control-"+e.replace(/]/g,"").replace(/\[/g,"-"));n.params.content.attr("class","customize-control customize-control-"+n.params.type)}t.propertyElements=[];wp.customize.Control.prototype.initialize.call(t,e,n)},_setUpSettingRootLinks:function(){var n=this,e=n.container.find("[data-customize-setting-link]");e.each(function(){var t=jQuery(this);wp.customize(t.data("customizeSettingLink"),function(e){var i=new wp.customize.Element(t);n.elements.push(i);i.sync(e);i.set(e())})})},_setUpSettingPropertyLinks:function(){var n=this,e;if(!n.setting){return}e=n.container.find("[data-customize-setting-property-link]");e.each(function(){var e=jQuery(this),i,t=e.data("customizeSettingPropertyLink");i=new wp.customize.Element(e);n.propertyElements.push(i);i.set(n.setting()[t]);i.bind(function(e){var i=n.setting();if(e===i[t]){return}i=_.clone(i);i[t]=e;n.setting.set(i)});n.setting.bind(function(e){if(e[t]!==i.get()){i.set(e[t])}})})},ready:function(){var e=this;e._setUpSettingRootLinks();e._setUpSettingPropertyLinks();wp.customize.Control.prototype.ready.call(e);e.deferred.embedded.done(function(){e.initKirkiControl(e)})},embed:function(){var i=this,e=i.section();if(!e){return}wp.customize.section(e,function(e){if("kirki-expanded"===e.params.type||e.expanded()||wp.customize.settings.autofocus.control===i.id){i.actuallyEmbed()}else{e.expanded.bind(function(e){if(e){i.actuallyEmbed()}})}})},actuallyEmbed:function(){var e=this;if("resolved"===e.deferred.embedded.state()){return}e.renderContent();e.deferred.embedded.resolve()},focus:function(e){var i=this;i.actuallyEmbed();wp.customize.Control.prototype.focus.call(i,e)},initKirkiControl:function(e){if("undefined"!==typeof kirki.control[e.params.type]){kirki.control[e.params.type].init(e);return}this.container.on("change keyup paste click","input",function(){e.setting.set(jQuery(this).val())})}})})();_.each(kirki.control,function(e,i){wp.customize.controlConstructor[i]=wp.customize.kirkiDynamicControl.extend({})});wp.customize.controlConstructor["kirki-background"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;if(!_.isUndefined(window.kirkiControlLoader)&&_.isFunction(kirkiControlLoader)){kirkiControlLoader(e)}else{e.initKirkiControl()}},initKirkiControl:function(){var l=this,e=l.setting._value,i=l.container.find(".kirki-color-control");if(_.isUndefined(e["background-image"])||""===e["background-image"]){l.container.find(".background-wrapper > .background-repeat").hide();l.container.find(".background-wrapper > .background-position").hide();l.container.find(".background-wrapper > .background-size").hide();l.container.find(".background-wrapper > .background-attachment").hide()}i.wpColorPicker({change:function(){setTimeout(function(){l.saveValue("background-color",i.val())},100)}});l.container.on("change",".background-repeat select",function(){l.saveValue("background-repeat",jQuery(this).val())});l.container.on("change click",".background-size input",function(){l.saveValue("background-size",jQuery(this).val())});l.container.on("change",".background-position select",function(){l.saveValue("background-position",jQuery(this).val())});l.container.on("change click",".background-attachment input",function(){l.saveValue("background-attachment",jQuery(this).val())});l.container.on("click",".background-image-upload-button",function(e){var c=wp.media({multiple:false}).open().on("select",function(){var e=c.state().get("selection").first(),i=e.toJSON().sizes.full.url,t,n,a,r,s,o;if(!_.isUndefined(e.toJSON().sizes.medium)){i=e.toJSON().sizes.medium.url}else if(!_.isUndefined(e.toJSON().sizes.thumbnail)){i=e.toJSON().sizes.thumbnail.url}t=e.toJSON().sizes.full.url;n=e.toJSON().id;a=e.toJSON().width;r=e.toJSON().height;if(""!==t){l.container.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show()}l.saveValue("background-image",t);s=l.container.find(".placeholder, .thumbnail");o=l.container.find(".background-image-upload-remove-button");if(s.length){s.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+i+'" alt="" />')}if(o.length){o.show()}});e.preventDefault()});l.container.on("click",".background-image-upload-remove-button",function(e){var i,t;e.preventDefault();l.saveValue("background-image","");i=l.container.find(".placeholder, .thumbnail");t=l.container.find(".background-image-upload-remove-button");l.container.find(".background-wrapper > .background-repeat").hide();l.container.find(".background-wrapper > .background-position").hide();l.container.find(".background-wrapper > .background-size").hide();l.container.find(".background-wrapper > .background-attachment").hide();if(i.length){i.removeClass().addClass("placeholder").html("No file selected")}if(t.length){t.hide()}})},saveValue:function(e,i){var t=this,n=jQuery("#customize-control-"+t.id.replace("[","-").replace("]","")+" .background-hidden-value"),a=t.setting._value;a[e]=i;jQuery(n).attr("value",JSON.stringify(a)).trigger("change");t.setting.set(a)}});wp.customize.controlConstructor["kirki-color-palette"]=wp.customize.kirkiDynamicControl.extend({});wp.customize.controlConstructor["kirki-dashicons"]=wp.customize.kirkiDynamicControl.extend({});wp.customize.controlConstructor["kirki-date"]=wp.customize.kirkiDynamicControl.extend({initKirkiControl:function(){var e=this,i=e.selector+" input.datepicker";jQuery(i).datepicker({dateFormat:"yy-mm-dd"});this.container.on("change keyup paste","input.datepicker",function(){e.setting.set(jQuery(this).val())})}});wp.customize.controlConstructor["kirki-dimension"]=wp.customize.kirkiDynamicControl.extend({initKirkiControl:function(){var e=this,i;e.kirkiNotifications();this.container.on("change keyup paste","input",function(){i=jQuery(this).val();e.setting.set(i)})},kirkiNotifications:function(){var e=this,n="undefined"!==typeof e.params.choices&&"undefined"!==typeof e.params.choices.accept_unitless&&true===e.params.choices.accept_unitless;wp.customize(e.id,function(t){t.bind(function(e){var i="long_title";if(false===kirki.util.validate.cssValue(e)&&(!n||isNaN(e))){t.notifications.add(i,new wp.customize.Notification(i,{type:"warning",message:dimensionkirkiL10n["invalid-value"]}))}else{t.notifications.remove(i)}})})}});wp.customize.controlConstructor["kirki-dimensions"]=wp.customize.kirkiDynamicControl.extend({initKirkiControl:function(){var e=this,i=e.params.choices.controls,t={},n=[],a;_.each(i,function(e,i){if(true===e){n.push(i)}});for(a=0;a<n.length;a++){t[n[a]]=e.setting._value[n[a]];e.updateDimensionsValue(n[a],t)}},updateDimensionsValue:function(e,i){var t=this;t.container.on("change keyup paste","."+e+" input",function(){i[e]=jQuery(this).val();t.kirkiNotifications();t.saveValue(i)})},saveValue:function(e){var i=this,t={};_.each(e,function(e,i){t[i]=e});i.setting.set(t)},kirkiNotifications:function(){var e=this;wp.customize(e.id,function(a){a.bind(function(e){var i="long_title",t={},n;a.notifications.remove(i);_.each(e,function(e,i){if(false===kirki.util.validate.cssValue(e)){t[i]=e}else{delete t[i]}});if(!_.isEmpty(t)){n=dimensionskirkiL10n["invalid-value"]+" ("+_.values(t).toString()+") ";a.notifications.add(i,new wp.customize.Notification(i,{type:"warning",message:n}));return}a.notifications.remove(i)})})}});wp.customize.controlConstructor["kirki-editor"]=wp.customize.kirkiDynamicControl.extend({initKirkiControl:function(){var t=this,n=t.container.find("textarea"),e="kirki-editor-"+t.id.replace("[","").replace("]",""),a;if(wp.editor&&wp.editor.initialize){wp.editor.initialize(e,{tinymce:{wpautop:true},quicktags:true,mediaButtons:true})}a=tinyMCE.get(e);if(a){a.onChange.add(function(e){var i;e.save();i=a.getContent();n.val(i).trigger("change");wp.customize.instance(t.id).set(i)})}}});wp.customize.controlConstructor["kirki-multicheck"]=wp.customize.kirkiDynamicControl.extend({initKirkiControl:function(){var n=this;n.container.on("change","input",function(){var i=[],t=0;jQuery.each(n.params.choices,function(e){if(n.container.find('input[value="'+e+'"]').is(":checked")){n.container.find('input[value="'+e+'"]').parent().addClass("checked");i[t]=e;t++}else{n.container.find('input[value="'+e+'"]').parent().removeClass("checked")}});n.setting.set(i)})}});wp.customize.controlConstructor["kirki-multicolor"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;if(!_.isUndefined(window.kirkiControlLoader)&&_.isFunction(kirkiControlLoader)){kirkiControlLoader(e)}else{e.initKirkiControl()}},initKirkiControl:function(){"use strict";var e=this,r=e.params.choices,i=Object.keys(r),t=this.params.value,n=0;function a(e,i,t){var n=e.container.find(".multicolor-index-"+t),a={change:function(){setTimeout(function(){e.saveValue(t,n.val());e.container.find(".multicolor-index-"+t).trigger("change")},100)}};if(_.isObject(r.irisArgs)){_.each(r.irisArgs,function(e,i){a[i]=e})}n.wpColorPicker(a)}while(n<Object.keys(r).length){a(this,t,i[n]);n++}},saveValue:function(e,i){var t=this,n=t.container.find(".multicolor-hidden-value"),a=t.setting._value;a[e]=i;jQuery(n).attr("value",JSON.stringify(a)).trigger("change");t.setting.set(a)}});wp.customize.controlConstructor["kirki-palette"]=wp.customize.kirkiDynamicControl.extend({});wp.customize.controlConstructor["kirki-radio-buttonset"]=wp.customize.kirkiDynamicControl.extend({});wp.customize.controlConstructor["kirki-radio-image"]=wp.customize.kirkiDynamicControl.extend({});var RepeaterRow=function(e,i,t,n){"use strict";var a=this;this.rowIndex=e;this.container=i;this.label=t;this.header=this.container.find(".repeater-row-header");this.header.on("click",function(){a.toggleMinimize()});this.container.on("click",".repeater-row-remove",function(){a.remove()});this.header.on("mousedown",function(){a.container.trigger("row:start-dragging")});this.container.on("keyup change","input, select, textarea",function(e){a.container.trigger("row:update",[a.rowIndex,jQuery(e.target).data("field"),e.target])});this.setRowIndex=function(e){this.rowIndex=e;this.container.attr("data-row",e);this.container.data("row",e);this.updateLabel()};this.toggleMinimize=function(){this.container.toggleClass("minimized");this.header.find(".dashicons").toggleClass("dashicons-arrow-up").toggleClass("dashicons-arrow-down")};this.remove=function(){this.container.slideUp(300,function(){jQuery(this).detach()});this.container.trigger("row:remove",[this.rowIndex])};this.updateLabel=function(){var e,i,t;if("field"===this.label.type){e=this.container.find('.repeater-field [data-field="'+this.label.field+'"]');if(_.isFunction(e.val)){i=e.val();if(""!==i){if(!_.isUndefined(n.params.fields[this.label.field])){if(!_.isUndefined(n.params.fields[this.label.field].type)){if("select"===n.params.fields[this.label.field].type){if(!_.isUndefined(n.params.fields[this.label.field].choices)&&!_.isUndefined(n.params.fields[this.label.field].choices[e.val()])){i=n.params.fields[this.label.field].choices[e.val()]}}else if("radio"===n.params.fields[this.label.field].type||"radio-image"===n.params.fields[this.label.field].type){t=n.selector+' [data-row="'+this.rowIndex+'"] .repeater-field [data-field="'+this.label.field+'"]:checked';i=jQuery(t).val()}}}this.header.find(".repeater-row-label").text(i);return}}}this.header.find(".repeater-row-label").text(this.label.value+" "+(this.rowIndex+1))};this.updateLabel()};wp.customize.controlConstructor.repeater=wp.customize.Control.extend({ready:function(){"use strict";var e=this;if(!_.isUndefined(window.kirkiControlLoader)&&_.isFunction(kirkiControlLoader)){kirkiControlLoader(e)}else{e.initKirkiControl()}},initKirkiControl:function(){"use strict";var n=this,i,t;var e=this.params.value;this.settingField=this.container.find("[data-customize-setting-link]").first();this.setValue([],false);this.repeaterFieldsContainer=this.container.find(".repeater-fields").first();this.currentIndex=0;this.rows=[];i=false;if(!_.isUndefined(this.params.choices.limit)){i=0>=this.params.choices.limit?false:parseInt(this.params.choices.limit,10)}this.container.on("click","button.repeater-add",function(e){e.preventDefault();if(!i||n.currentIndex<i){t=n.addRow();t.toggleMinimize();n.initColorPicker();n.initSelect(t)}else{jQuery(n.selector+" .limit").addClass("highlight")}});this.container.on("click",".repeater-row-remove",function(){n.currentIndex--;if(!i||n.currentIndex<i){jQuery(n.selector+" .limit").removeClass("highlight")}});this.container.on("click keypress",".repeater-field-image .upload-button,.repeater-field-cropped_image .upload-button,.repeater-field-upload .upload-button",function(e){e.preventDefault();n.$thisButton=jQuery(this);n.openFrame(e)});this.container.on("click keypress",".repeater-field-image .remove-button,.repeater-field-cropped_image .remove-button",function(e){e.preventDefault();n.$thisButton=jQuery(this);n.removeImage(e)});this.container.on("click keypress",".repeater-field-upload .remove-button",function(e){e.preventDefault();n.$thisButton=jQuery(this);n.removeFile(e)});this.repeaterTemplate=_.memoize(function(){var i,t={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(e){i=_.template(n.container.find(".customize-control-repeater-content").first().html(),null,t);return i(e)}});if(e.length){_.each(e,function(e){t=n.addRow(e);n.initColorPicker();n.initSelect(t,e)})}this.setValue(e,true,true);this.repeaterFieldsContainer.sortable({handle:".repeater-row-header",update:function(){n.sort()}})},openFrame:function(e){"use strict";if(wp.customize.utils.isKeydownButNotEnterEvent(e)){return}if(this.$thisButton.closest(".repeater-field").hasClass("repeater-field-cropped_image")){this.initCropperFrame()}else{this.initFrame()}this.frame.open()},initFrame:function(){"use strict";var e=this.getMimeType();this.frame=wp.media({states:[new wp.media.controller.Library({library:wp.media.query({type:e}),multiple:false,date:false})]});this.frame.on("select",this.onSelect,this)},initCropperFrame:function(){"use strict";var i=this.$thisButton.siblings("input.hidden-field").attr("data-field"),e=["width","height","flex_width","flex_height"],t=this.getMimeType();if(_.isString(i)&&""!==i){if(_.isObject(this.params.fields[i])&&"cropped_image"===this.params.fields[i].type){e.forEach(function(e){if(!_.isUndefined(this.params.fields[i][e])){this.params[e]=this.params.fields[i][e]}}.bind(this))}}this.frame=wp.media({button:{text:"Select and Crop",close:false},states:[new wp.media.controller.Library({library:wp.media.query({type:t}),multiple:false,date:false,suggestedWidth:this.params.width,suggestedHeight:this.params.height}),new wp.media.controller.CustomizeImageCropper({imgSelectOptions:this.calculateImageSelectOptions,control:this})]});this.frame.on("select",this.onSelectForCrop,this);this.frame.on("cropped",this.onCropped,this);this.frame.on("skippedcrop",this.onSkippedCrop,this)},onSelect:function(){"use strict";var e=this.frame.state().get("selection").first().toJSON();if(this.$thisButton.closest(".repeater-field").hasClass("repeater-field-upload")){this.setFileInRepeaterField(e)}else{this.setImageInRepeaterField(e)}},onSelectForCrop:function(){"use strict";var e=this.frame.state().get("selection").first().toJSON();if(this.params.width===e.width&&this.params.height===e.height&&!this.params.flex_width&&!this.params.flex_height){this.setImageInRepeaterField(e)}else{this.frame.setState("cropper")}},onCropped:function(e){"use strict";this.setImageInRepeaterField(e)},calculateImageSelectOptions:function(e,i){"use strict";var t=i.get("control"),n=!!parseInt(t.params.flex_width,10),a=!!parseInt(t.params.flex_height,10),r=e.get("width"),s=e.get("height"),o=parseInt(t.params.width,10),c=parseInt(t.params.height,10),l=o/c,u=r,d=s,f,p,h;i.set("canSkipCrop",!t.mustBeCropped(n,a,o,c,r,s));if(u/d>l){c=d;o=c*l}else{o=u;c=o/l}f=(u-o)/2;p=(d-c)/2;h={handles:true,keys:true,instance:true,persistent:true,imageWidth:r,imageHeight:s,x1:f,y1:p,x2:o+f,y2:c+p};if(false===a&&false===n){h.aspectRatio=o+":"+c}if(false===a){h.maxHeight=c}if(false===n){h.maxWidth=o}return h},mustBeCropped:function(e,i,t,n,a,r){"use strict";if(true===e&&true===i||true===e&&n===r||true===i&&t===a||t===a&&n===r||a<=t){return false}return true},onSkippedCrop:function(){"use strict";var e=this.frame.state().get("selection").first().toJSON();this.setImageInRepeaterField(e)},setImageInRepeaterField:function(e){"use strict";var i=this.$thisButton.closest(".repeater-field-image,.repeater-field-cropped_image");i.find(".kirki-image-attachment").html('<img src="'+e.url+'">').hide().slideDown("slow");i.find(".hidden-field").val(e.id);this.$thisButton.text(this.$thisButton.data("alt-label"));i.find(".remove-button").show();i.find("input, textarea, select").trigger("change");this.frame.close()},setFileInRepeaterField:function(e){"use strict";var i=this.$thisButton.closest(".repeater-field-upload");i.find(".kirki-file-attachment").html('<span class="file"><span class="dashicons dashicons-media-default"></span> '+e.filename+"</span>").hide().slideDown("slow");i.find(".hidden-field").val(e.id);this.$thisButton.text(this.$thisButton.data("alt-label"));i.find(".upload-button").show();i.find(".remove-button").show();i.find("input, textarea, select").trigger("change");this.frame.close()},getMimeType:function(){"use strict";var e=this.$thisButton.siblings("input.hidden-field").attr("data-field");if(_.isString(e)&&""!==e){if(_.isObject(this.params.fields[e])&&"upload"===this.params.fields[e].type){if(!_.isUndefined(this.params.fields[e].mime_type)){return this.params.fields[e].mime_type}}}return"image"},removeImage:function(e){"use strict";var i,t;if(wp.customize.utils.isKeydownButNotEnterEvent(e)){return}i=this.$thisButton.closest(".repeater-field-image,.repeater-field-cropped_image,.repeater-field-upload");t=i.find(".upload-button");i.find(".kirki-image-attachment").slideUp("fast",function(){jQuery(this).show().html(jQuery(this).data("placeholder"))});i.find(".hidden-field").val("");t.text(t.data("label"));this.$thisButton.hide();i.find("input, textarea, select").trigger("change")},removeFile:function(e){"use strict";var i,t;if(wp.customize.utils.isKeydownButNotEnterEvent(e)){return}i=this.$thisButton.closest(".repeater-field-upload");t=i.find(".upload-button");i.find(".kirki-file-attachment").slideUp("fast",function(){jQuery(this).show().html(jQuery(this).data("placeholder"))});i.find(".hidden-field").val("");t.text(t.data("label"));this.$thisButton.hide();i.find("input, textarea, select").trigger("change")},getValue:function(){"use strict";return JSON.parse(decodeURI(this.setting.get()))},setValue:function(e,i,t){"use strict";var a=e,r=[];if(t){jQuery.each(this.params.fields,function(e,i){if("image"===i.type||"cropped_image"===i.type||"upload"===i.type){r.push(e)}});jQuery.each(e,function(t,n){jQuery.each(r,function(e,i){if(!_.isUndefined(n[i])&&!_.isUndefined(n[i].id)){a[t][i]=n[i].id}})})}this.setting.set(encodeURI(JSON.stringify(a)));if(i){this.settingField.trigger("change")}},addRow:function(e){"use strict";var a=this,i=a.repeaterTemplate(),t=this.getValue(),n={},r,s,o;if(i){r=jQuery.extend(true,{},a.params.fields);if(e){for(o in e){if(e.hasOwnProperty(o)&&r.hasOwnProperty(o)){r[o].default=e[o]}}}r.index=this.currentIndex;i=i(r);s=new RepeaterRow(a.currentIndex,jQuery(i).appendTo(a.repeaterFieldsContainer),a.params.row_label,a);s.container.on("row:remove",function(e,i){a.deleteRow(i)});s.container.on("row:update",function(e,i,t,n){a.updateField.call(a,e,i,t,n);s.updateLabel()});this.rows[this.currentIndex]=s;for(o in r){if(r.hasOwnProperty(o)){n[o]=r[o].default}}t[this.currentIndex]=n;this.setValue(t,true);this.currentIndex++;return s}},sort:function(){"use strict";var t=this,e=this.repeaterFieldsContainer.find(".repeater-row"),n=[],a=t.getValue(),r=[],s=[];e.each(function(e,i){n.push(jQuery(i).data("row"))});jQuery.each(n,function(e,i){r[e]=t.rows[i];r[e].setRowIndex(e);s[e]=a[i]});t.rows=r;t.setValue(s)},deleteRow:function(e){"use strict";var i=this.getValue(),t,n,a;if(i[e]){t=this.rows[e];if(t){delete i[e];delete this.rows[e];this.setValue(i,true)}}n=1;for(a in this.rows){if(this.rows.hasOwnProperty(a)&&this.rows[a]){this.rows[a].updateLabel();n++}}},updateField:function(e,i,t,n){"use strict";var a,r,s;if(!this.rows[i]){return}if(!this.params.fields[t]){return}a=this.params.fields[t].type;r=this.rows[i];s=this.getValue();n=jQuery(n);if(_.isUndefined(s[r.rowIndex][t])){return}if("checkbox"===a){s[r.rowIndex][t]=n.is(":checked")}else{s[r.rowIndex][t]=n.val()}this.setValue(s,true)},initColorPicker:function(){"use strict";var s=this,e=s.container.find(".color-picker-hex"),i={},t=e.data("field");if(!_.isUndefined(t)&&!_.isUndefined(s.params.fields[t])&&!_.isUndefined(s.params.fields[t].palettes)&&_.isObject(s.params.fields[t].palettes)){i.palettes=s.params.fields[t].palettes}i.change=function(e,i){var t=jQuery(e.target),n=t.closest(".repeater-row"),a=n.data("row"),r=s.getValue();r[a][t.data("field")]=i.color.toString();s.setValue(r,true)};if(0!==e.length){e.wpColorPicker(i)}},initSelect:function(e,i){"use strict";var r=this,t=e.container.find(".repeater-field select"),n,a,s,o={};if(0===t.length){return}a=t.data("field");s=jQuery(t).data("multiple");if("undefed"!==s&&jQuery.isNumeric(s)){s=parseInt(s,10);if(1<s){o.maximumSelectionLength=s}}i=i||{};i[a]=i[a]||"";n=jQuery(t).selectWoo(o).val(i[a]||jQuery(t).val());this.container.on("change",".repeater-field select",function(e){var i=jQuery(e.target),t=i.closest(".repeater-row"),n=t.data("row"),a=r.getValue();a[n][i.data("field")]=jQuery(this).val();r.setValue(a)})}});wp.customize.controlConstructor["kirki-slider"]=wp.customize.kirkiDynamicControl.extend({initKirkiControl:function(){var e=this,i="postMessage"===e.setting.transport?"mousemove change":"change",t=e.container.find('input[type="range"]'),n=e.container.find('input[type="text"]'),a=e.setting._value;n.attr("value",a);t.on("mousemove change",function(){n.attr("value",t.val())});t.on(i,function(){e.setting.set(t.val())});n.on("input paste change",function(){t.attr("value",n.val());e.setting.set(n.val())});e.container.find(".slider-reset").on("click",function(){n.attr("value",e.params.default);t.attr("value",e.params.default);e.setting.set(n.val())})}});wp.customize.controlConstructor["kirki-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;jQuery(e.container.find("ul.sortable").first()).sortable({update:function(){e.setting.set(e.getNewVal())}}).disableSelection().find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){e.setting.set(e.getNewVal())})},getNewVal:function(){var e=jQuery(this.container.find("li")),i=[];_.each(e,function(e){if(!jQuery(e).hasClass("invisible")){i.push(jQuery(e).data("value"))}});return i}});wp.customize.controlConstructor["kirki-switch"]=wp.customize.kirkiDynamicControl.extend({initKirkiControl:function(){"use strict";var e=this,i=e.setting._value;this.container.on("change","input",function(){i=jQuery(this).is(":checked")?true:false;e.setting.set(i)})}});wp.customize.controlConstructor["kirki-toggle"]=wp.customize.kirkiDynamicControl.extend({initKirkiControl:function(){var e=this,i=e.setting._value;this.container.on("change","input",function(){i=jQuery(this).is(":checked")?true:false;e.setting.set(i)})}});wp.customize.controlConstructor["kirki-typography"]=wp.customize.kirkiDynamicControl.extend({initKirkiControl:function(){"use strict";var e=this,i=e.setting._value,t;e.renderFontSelector();e.renderBackupFontSelector();e.renderVariantSelector();if("undefined"!==typeof e.params.default["font-size"]){this.container.on("change keyup paste",".font-size input",function(){e.saveValue("font-size",jQuery(this).val())})}if("undefined"!==typeof e.params.default["line-height"]){this.container.on("change keyup paste",".line-height input",function(){e.saveValue("line-height",jQuery(this).val())})}if("undefined"!==typeof e.params.default["margin-top"]){this.container.on("change keyup paste",".margin-top input",function(){e.saveValue("margin-top",jQuery(this).val())})}if("undefined"!==typeof e.params.default["margin-bottom"]){this.container.on("change keyup paste",".margin-bottom input",function(){e.saveValue("margin-bottom",jQuery(this).val())})}if("undefined"!==typeof e.params.default["letter-spacing"]){i["letter-spacing"]=jQuery.isNumeric(i["letter-spacing"])?i["letter-spacing"]+"px":i["letter-spacing"];this.container.on("change keyup paste",".letter-spacing input",function(){i["letter-spacing"]=jQuery.isNumeric(jQuery(this).val())?jQuery(this).val()+"px":jQuery(this).val();e.saveValue("letter-spacing",i["letter-spacing"])})}if("undefined"!==typeof e.params.default["word-spacing"]){this.container.on("change keyup paste",".word-spacing input",function(){e.saveValue("word-spacing",jQuery(this).val())})}if("undefined"!==typeof e.params.default["text-align"]){this.container.on("change",".text-align input",function(){e.saveValue("text-align",jQuery(this).val())})}if("undefined"!==typeof e.params.default["text-transform"]){jQuery(e.selector+" .text-transform select").selectWoo().on("change",function(){e.saveValue("text-transform",jQuery(this).val())})}if("undefined"!==typeof e.params.default["text-decoration"]){jQuery(e.selector+" .text-decoration select").selectWoo().on("change",function(){e.saveValue("text-decoration",jQuery(this).val())})}if("undefined"!==typeof e.params.default.color){t=this.container.find(".kirki-color-control");t.wpColorPicker({change:function(){setTimeout(function(){e.saveValue("color",t.val())},100)}})}},renderFontSelector:function(){var e=this,i=e.selector+" .font-family select",t=[],n=[],a=[],r=e.setting._value,s=e.getFonts(),o,c;if(!_.isUndefined(s.standard)){_.each(s.standard,function(e){n.push({id:e.family.replace(/&quot;/g,"&#39"),text:e.label})})}if(!_.isUndefined(s.google)){_.each(s.google,function(e){a.push({id:e.family,text:e.family})})}c={};if(!_.isUndefined(e.params)&&!_.isUndefined(e.params.choices)&&!_.isUndefined(e.params.choices.fonts)&&!_.isUndefined(e.params.choices.fonts.families)){c=e.params.choices.fonts.families}t=jQuery.extend({},c,{default:{text:kirkiL10n.defaultCSSValues,children:[{id:"",text:kirkiL10n.defaultBrowserFamily},{id:"initial",text:"initial"},{id:"inherit",text:"inherit"}]},standard:{text:kirkiL10n.standardFonts,children:n},google:{text:kirkiL10n.googleFonts,children:a}});if(kirkiL10n.isScriptDebug){console.info('Kirki Debug: Font families for control "'+e.id+'":');console.info(t)}t=_.values(t);o=jQuery(i).selectWoo({data:t});if(r["font-family"]||""===r["font-family"]){r["font-family"]=kirki.util.parseHtmlEntities(r["font-family"].replace(/'/g,'"'));o.val(r["font-family"]).trigger("change")}o.on("change",function(){e.saveValue("font-family",jQuery(this).val());e.renderBackupFontSelector();e.renderVariantSelector()})},renderBackupFontSelector:function(){var e=this,i=e.selector+" .font-backup select",t=[],n=e.setting._value,a=n["font-family"],r=e.getFonts(),s;if(_.isUndefined(n["font-backup"])||null===n["font-backup"]){n["font-backup"]=""}if("inherit"===a||"initial"===a||"google"!==kirki.util.webfonts.getFontType(a)){jQuery(e.selector+" .font-backup").hide();return}jQuery(e.selector+" .font-backup").show();if(!_.isUndefined(r.standard)){_.each(r.standard,function(e){t.push({id:e.family.replace(/&quot;/g,"&#39"),text:e.label})})}s=jQuery(i).selectWoo({data:t});if("undefined"!==typeof n["font-backup"]){s.val(n["font-backup"].replace(/'/g,'"')).trigger("change")}s.on("change",function(){e.saveValue("font-backup",jQuery(this).val())})},renderVariantSelector:function(){var e=this,i=e.setting._value,t=i["font-family"],n=e.selector+" .variant select",a=[],r=false,s=kirki.util.webfonts.getFontType(t),o=["","regular","italic","700","700italic"],c,l,u;if("google"===s){o=kirki.util.webfonts.google.getVariants(t)}if(!_.isUndefined(e.params)&&!_.isUndefined(e.params.choices)&&!_.isUndefined(e.params.choices.fonts)&&!_.isUndefined(e.params.choices.fonts.variants)){if(!_.isUndefined(e.params.choices.fonts.variants[t])){o=e.params.choices.fonts.variants[t]}}if(kirkiL10n.isScriptDebug){console.info('Kirki Debug: Font variants for font-family "'+t+'":');console.info(o)}if("inherit"===t||"initial"===t||""===t){i.variant="inherit";o=[""];jQuery(e.selector+" .variant").hide()}if(1>=o.length){jQuery(e.selector+" .variant").hide();i.variant=o[0];e.saveValue("variant",i.variant);if(""===i.variant||!i.variant){c="";u=""}else{c=!_.isString(i.variant)?"400":i.variant.match(/\d/g);c=!_.isObject(c)?"400":c.join("");u=i.variant&&-1!==i.variant.indexOf("italic")?"italic":"normal"}e.saveValue("font-weight",c);e.saveValue("font-style",u);return}jQuery(e.selector+" .font-backup").show();jQuery(e.selector+" .variant").show();_.each(o,function(e){if(i.variant===e){r=true}a.push({id:e,text:e})});if(!r){i.variant="regular"}if(jQuery(n).hasClass("select2-hidden-accessible")){jQuery(n).selectWoo("destroy");jQuery(n).empty()}l=jQuery(n).selectWoo({data:a});l.val(i.variant).trigger("change");l.on("change",function(){e.saveValue("variant",jQuery(this).val());if("string"!==typeof i.variant){i.variant=o[0]}c=!_.isString(i.variant)?"400":i.variant.match(/\d/g);c=!_.isObject(c)?"400":c.join("");u=-1!==i.variant.indexOf("italic")?"italic":"normal";e.saveValue("font-weight",c);e.saveValue("font-style",u)})},getFonts:function(){var e=this,i=kirki.util.webfonts.google.getFonts(),t={},n="alpha",a=0,r={};if(!_.isEmpty(e.params.choices.fonts.google)){if("alpha"===e.params.choices.fonts.google[0]||"popularity"===e.params.choices.fonts.google[0]||"trending"===e.params.choices.fonts.google[0]){n=e.params.choices.fonts.google[0];if(!isNaN(e.params.choices.fonts.google[1])){a=parseInt(e.params.choices.fonts.google[1],10)}t=kirki.util.webfonts.google.getFonts(n,"",a)}else{_.each(e.params.choices.fonts.google,function(e){if("undefined"!==typeof i[e]&&!_.isEmpty(i[e])){t[e]=i[e]}})}}else{t=kirki.util.webfonts.google.getFonts(n,"",a)}if(!_.isEmpty(e.params.choices.fonts.standard)){_.each(e.params.choices.fonts.standard,function(e){if("undefined"!==typeof kirki.util.webfonts.standard.fonts[e]&&!_.isEmpty(kirki.util.webfonts.standard.fonts[e])){r[e]={};if("undefined"!==kirki.util.webfonts.standard.fonts[e].stack&&!_.isEmpty(kirki.util.webfonts.standard.fonts[e].stack)){r[e].family=kirki.util.webfonts.standard.fonts[e].stack}else{r[e].family=t[e]}if("undefined"!==kirki.util.webfonts.standard.fonts[e].label&&!_.isEmpty(kirki.util.webfonts.standard.fonts[e].label)){r[e].label=kirki.util.webfonts.standard.fonts[e].label}else if(!_.isEmpty(r[e])){r[e].label=r[e]}}else{r[e]={family:e,label:e}}})}else{_.each(kirki.util.webfonts.standard.fonts,function(e,i){r[i]={family:e.stack,label:e.label}})}return{google:t,standard:r}},saveValue:function(e,i){var t=this,n=t.container.find(".typography-hidden-value"),a=t.setting._value;a[e]=i;jQuery(n).attr("value",JSON.stringify(a)).trigger("change");t.setting.set(a)}});