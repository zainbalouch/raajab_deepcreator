goog.provide("webfont.EventDispatcher");goog.require("webfont.CssClassName");webfont.EventDispatcher=function(t,e){this.domHelper_=t;this.htmlElement_=t.getLoadWindow().document.documentElement;this.callbacks_=e;this.namespace_=webfont.EventDispatcher.DEFAULT_NAMESPACE;this.cssClassName_=new webfont.CssClassName("-");this.dispatchEvents_=e["events"]!==false;this.setClasses_=e["classes"]!==false};webfont.EventDispatcher.DEFAULT_NAMESPACE="wf";webfont.EventDispatcher.LOADING="loading";webfont.EventDispatcher.ACTIVE="active";webfont.EventDispatcher.INACTIVE="inactive";webfont.EventDispatcher.FONT="font";goog.scope(function(){var t=webfont.EventDispatcher;t.prototype.dispatchLoading=function(){if(this.setClasses_){this.domHelper_.updateClassName(this.htmlElement_,[this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.LOADING)])}this.dispatch_(webfont.EventDispatcher.LOADING)};t.prototype.dispatchFontLoading=function(t){if(this.setClasses_){this.domHelper_.updateClassName(this.htmlElement_,[this.cssClassName_.build(this.namespace_,t.getName(),t.getVariation().toString(),webfont.EventDispatcher.LOADING)])}this.dispatch_(webfont.EventDispatcher.FONT+webfont.EventDispatcher.LOADING,t)};t.prototype.dispatchFontActive=function(t){if(this.setClasses_){this.domHelper_.updateClassName(this.htmlElement_,[this.cssClassName_.build(this.namespace_,t.getName(),t.getVariation().toString(),webfont.EventDispatcher.ACTIVE)],[this.cssClassName_.build(this.namespace_,t.getName(),t.getVariation().toString(),webfont.EventDispatcher.LOADING),this.cssClassName_.build(this.namespace_,t.getName(),t.getVariation().toString(),webfont.EventDispatcher.INACTIVE)])}this.dispatch_(webfont.EventDispatcher.FONT+webfont.EventDispatcher.ACTIVE,t)};t.prototype.dispatchFontInactive=function(t){if(this.setClasses_){var e=this.domHelper_.hasClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,t.getName(),t.getVariation().toString(),webfont.EventDispatcher.ACTIVE)),s=[],a=[this.cssClassName_.build(this.namespace_,t.getName(),t.getVariation().toString(),webfont.EventDispatcher.LOADING)];if(!e){s.push(this.cssClassName_.build(this.namespace_,t.getName(),t.getVariation().toString(),webfont.EventDispatcher.INACTIVE))}this.domHelper_.updateClassName(this.htmlElement_,s,a)}this.dispatch_(webfont.EventDispatcher.FONT+webfont.EventDispatcher.INACTIVE,t)};t.prototype.dispatchInactive=function(){if(this.setClasses_){var t=this.domHelper_.hasClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.ACTIVE)),e=[],s=[this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.LOADING)];if(!t){e.push(this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.INACTIVE))}this.domHelper_.updateClassName(this.htmlElement_,e,s)}this.dispatch_(webfont.EventDispatcher.INACTIVE)};t.prototype.dispatchActive=function(){if(this.setClasses_){this.domHelper_.updateClassName(this.htmlElement_,[this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.ACTIVE)],[this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.LOADING),this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.INACTIVE)])}this.dispatch_(webfont.EventDispatcher.ACTIVE)};t.prototype.dispatch_=function(t,e){if(this.dispatchEvents_&&this.callbacks_[t]){if(e){this.callbacks_[t](e.getName(),e.getVariation())}else{this.callbacks_[t]()}}}});