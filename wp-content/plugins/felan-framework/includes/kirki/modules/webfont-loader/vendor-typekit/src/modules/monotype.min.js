goog.provide("webfont.modules.Monotype");goog.require("webfont.Font");webfont.modules.Monotype=function(o,t){this.domHelper_=o;this.configuration_=t};webfont.modules.Monotype.NAME="monotype";webfont.modules.Monotype.HOOK="__mti_fntLst";webfont.modules.Monotype.SCRIPTID="__MonotypeAPIScript__";webfont.modules.Monotype.CONFIGURATION="__MonotypeConfiguration__";goog.scope(function(){var s=webfont.modules.Monotype,a=webfont.Font;s.prototype.getScriptSrc=function(o,t){var n=this.configuration_["api"]||"https://fast.fonts.net/jsapi";return n+"/"+o+".js"+(t?"?v="+t:"")};s.prototype.load=function(f){var t=this;var r=t.configuration_["projectId"];var o=t.configuration_["version"];function p(){if(u[s.HOOK+r]){var o=u[s.HOOK+r](),t=[],n;if(o){for(var e=0;e<o.length;e++){var i=o[e]["fontfamily"];if(o[e]["fontStyle"]!=undefined&&o[e]["fontWeight"]!=undefined){n=o[e]["fontStyle"]+o[e]["fontWeight"];t.push(new a(i,n))}else{t.push(new a(i))}}}f(t)}else{setTimeout(function(){p()},50)}}if(r){var u=t.domHelper_.getLoadWindow();var n=this.domHelper_.loadScript(t.getScriptSrc(r,o),function(o){if(o){f([])}else{u[s.CONFIGURATION+r]=function(){return t.configuration_};p()}});n["id"]=s.SCRIPTID+r}else{f([])}}});