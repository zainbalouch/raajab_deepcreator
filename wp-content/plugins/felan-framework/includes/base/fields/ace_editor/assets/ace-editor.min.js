var GLF_AceEditorClass=function(e){this.$container=e};(function(n){"use strict";GLF_AceEditorClass.prototype={init:function(){this.$fieldText=this.$container.find("textarea");this.$editorField=this.$container.find(".glf-ace-editor");var e=this.$fieldText.data("options"),t=this.$fieldText.data("mode"),i=this.$fieldText.data("theme");this.editor=ace.edit(this.$editorField.attr("id"));this.$editorField.attr("id","");if(t!=""){this.editor.session.setMode("ace/mode/"+t)}if(i!=""){this.editor.setTheme("ace/theme/"+i)}this.editor.setAutoScrollEditorIntoView(true);this.editor.setOptions(e);var n=this;this.editor.on("change",function(e){n.$fieldText.val(n.editor.getSession().getValue());var t=n.$container.closest(".glf-field");t.trigger("glf_field_change")})}};var e={init:function(){var e=n(".glf-meta-config-wrapper");e=e.length?e:n("body");e.on("glf_make_template_done",function(){n(".glf-field-ace-editor-inner").each(function(){var e=new GLF_AceEditorClass(n(this));e.init()})});n(".glf-field.glf-field-ace_editor").on("glf_add_clone_field",function(e){var t=n(e.target).find(".glf-field-ace-editor-inner");if(t.length){var i=new GLF_AceEditorClass(t);i.init()}})}};n(document).ready(function(){e.init();GLFFieldsConfig.fieldInstance.push(e)})})(jQuery);