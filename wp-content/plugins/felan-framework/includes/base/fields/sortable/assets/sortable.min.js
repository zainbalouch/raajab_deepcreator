var GLF_SortableClass=function(e){this.$container=e};(function(f){"use strict";GLF_SortableClass.prototype={init:function(){this.$container.sortable({placeholder:"glf-sortable-sortable-placeholder",items:".glf-field-sortable-item",handle:".dashicons-menu",update:function(e,i){var l=f(e.target);var n="";l.find('input[type="checkbox"]').each(function(){var e=f(this);if(n===""){n+=e.val()}else{n+="|"+e.val()}});l.find(".glf-field-sortable-sort").val(n);var t=l.closest(".glf-field"),a=GLFFieldsConfig.fields.getValue(t);GLFFieldsConfig.required.checkRequired(t,a)}});f(".glf-field-sortable-inner .glf-field-sortable-checkbox").change(function(){var e=f(this).closest(".glf-field"),i=GLFFieldsConfig.fields.getValue(e);GLFFieldsConfig.required.checkRequired(e,i)})}};var e={init:function(){var e=f(".glf-meta-config-wrapper");e=e.length?e:f("body");e.on("glf_make_template_done",function(){f(".glf-field-sortable-inner").each(function(){var e=new GLF_SortableClass(f(this));e.init()})});f(".glf-field.glf-field-sortable").on("glf_add_clone_field",function(e){var i=f(e.target).find(".glf-field-sortable-inner");if(i.length){var l=new GLF_SortableClass(i);l.init()}})}};f(document).ready(function(){e.init();GLFFieldsConfig.fieldInstance.push(e)})})(jQuery);