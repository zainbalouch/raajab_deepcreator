var FELAN=FELAN||{};(function(b){"use strict";var e=b("body");var r=theme_vars.ajax_url;FELAN.element={init:function(){FELAN.element.rtl();FELAN.element.general();FELAN.element.retina_logo();FELAN.element.auto_close_loading_effect();FELAN.element.widget_categories();FELAN.element.swiper_carousel();FELAN.element.WidgetFelanCarouselHandler();FELAN.element.slick_carousel();FELAN.element.main_menu();FELAN.element.dropdown_select();FELAN.element.elementor_header();FELAN.element.sticky_header();FELAN.element.popup();FELAN.element.toggle_popup();FELAN.element.nav_tabs();FELAN.element.validate_form();FELAN.element.forget_password();FELAN.element.cookie_notices();FELAN.element.list_categories();FELAN.element.widget_toggle()},widget_toggle:function(e){function n(t){var n=[];var s=0;b(".felan-pricing-features").each(function(){var e=b(this).attr("data-count");if(e>s){s=e}});for(let a=0;a<s;a++){t.find(".felan-pricing-features").each(function(){var e=b(this).find("li:nth-child("+(a+1)+")").innerHeight();if(n.hasOwnProperty(a)){if(e>n[a]){n[a]=e}}else{n.push(e)}})}for(let e=0;e<=n.length;e++){t.find(".felan-pricing-features li:nth-child( "+(e+1)+" )").css("height",n[e]+"px")}}if(b(".felan-pricing-plan").hasClass("sercondary")){n(b(".pricing-plan-item.pricing-plan-sercondary"))}else{n(b(".pricing-plan-item.pricing-plan-primary"))}b(".felan-pricing-plan .switch").on("click",function(e){e.preventDefault();var a=b(this),t=b(this).parents(".felan-pricing-plan").find(".pricing-plan-item");b(".felan-pricing-plan .switch-label .switch").removeClass("active");a.toggleClass("active");t.each(function(){if(b(this).hasClass("active")){b(this).removeClass("active")}else{b(this).addClass("active")}});if(a.closest(".felan-pricing-plan").hasClass("sercondary")){n(b(".pricing-plan-item.pricing-plan-primary"))}else{n(b(".pricing-plan-item.pricing-plan-sercondary"))}})},list_categories:function(){var e=b(".felan-list-categories ul.list-categories").data("border-color");if(e){b("header.site-header .felan-list-categories").css("border-top-color",e);b("header.site-header").css("border-bottom-color",e)}},windowLoad:function(){this.page_loading_effect();this.handler_animation();this.handler_entrance_queue_animation();this.ajax_login_fb();this.ajax_login_google()},rtl:function(){if(b("body").attr("dir")=="rtl"){b(".elementor-section-stretched").each(function(){var e=b(this).css("left");b(this).css("left","auto");b(this).css("right",e)})}},general:function(){b(".mobile-menu .account .user-show").on("click",function(e){e.preventDefault();b(this).parent().toggleClass("active")});b(".block-search.search-icon").on("click",function(e){e.preventDefault();b(".search-form-wrapper.canvas-search").addClass("on")});b(".canvas-search").on("click",".btn-close,.bg-overlay",function(e){e.preventDefault();b(this).parents(".canvas-search").removeClass("on");b("body").css("overflow","auto")});b(".block-search.search-input").on("keyup",".input-search",function(e){e.preventDefault();if(b(this).val().length>0){b(this).closest(".search-input").addClass("has-clear")}else{b(this).closest(".search-input").removeClass("has-clear")}});b(".block-search.search-input").on("click",".icon-clear",function(e){e.preventDefault();b(this).closest(".search-input").find(".input-search").val("");b(this).closest(".search-input").removeClass("has-clear")});b("body").on("click",".felan-categories li",function(e){e.returnValue=true});b("body").on("click",".felan-categories li > a",function(e){e.returnValue=true});b(".list-post-type .post-type").on("click",function(e){e.preventDefault();b(this).closest(".list-post-type").toggleClass("active")});b(".list-post-type").on("click","a",function(e){e.preventDefault();var a=b(this).data("post-type");var t=b(this).data("post-type-label");b(this).closest(".list-post-type").find(".post-type span").text(t);b(this).closest("form").find("input[name='post_type']").val(a);b(this).closest(".list-post-type").removeClass("active")});b(".site-search-form").on("click",".reset-search",function(e){e.preventDefault();var a=b(this);var t=a.closest(".site-search").find(".search-result");var n=a.closest(".site-search").find('input[name="s"]');var s=a.closest(".site-search").find('button[type="submit"]');n.val("");t.html("");t.removeClass("is-active");s.removeAttr("disabled");b(this).removeClass("active")});b(".site-search-form").on("keyup",".search-input",function(e){e.preventDefault();var a=b(this);var t=a.closest(".site-search").find(".search-result");var n=a.closest(".site-search").find('button[type="submit"]');var s=a.closest(".site-search").find("input[name='post_type']").val();var o=a.closest(".site-search-form").attr("data-per-page");var i=a.closest(".site-search").find(".reset-search");if(b(this).val().length>0){b.ajax({dataType:"json",url:r,data:{action:"keyup_site_search",key:b(this).val(),post_type:s,posts_per_page:o},beforeSend:function(){n.attr("disabled","disabled")},success:function(e){n.removeAttr("disabled");i.addClass("active");if(e.success==true){t.addClass("is-active");t.html(e.content)}}})}else{t.removeClass("is-active");i.removeClass("active")}});b(document).mouseup(function(e){var a=b(".site-search");var t=b(".list-post-type");if(!a.is(e.target)&&a.has(e.target).length===0){b(".site-search").find(".search-result").removeClass("is-active")}if(!t.is(e.target)&&t.has(e.target).length===0){b(".list-post-type").removeClass("active")}});b(".section-sticky").closest(".block-archive-top").addClass("has-children-sticky")},retina_logo:function(){if(window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.5)").matches||window.matchMedia("only screen and (-o-min-device-pixel-ratio: 3/2)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.5)").matches||window.matchMedia("only screen and (min-device-pixel-ratio: 1.5)").matches){b(".site-logo img").each(function(){b(this).addClass("logo-retina");b(this).attr("src",b(this).data("retina"))})}},page_loading_effect:function(){b(".page-loading-effect").addClass("visibility");b(".felan-jobs-item").removeClass("skeleton-loading");setTimeout(function(){b(".page-loading-effect").remove()},2e3)},auto_close_loading_effect:function(){setTimeout(function(){b(".page-loading-effect").remove()},2e3)},handler_animation:function(){var e=b(".modern-grid").children(".grid-item");e.waypoint(function(){var e=this.element?this.element:this;var a=b(e);a.addClass("animate")},{offset:"100%",triggerOnce:true})},handler_entrance_queue_animation:function(){var s=200,o;b(".felan-entrance-animation-queue").each(function(){var a=[],t,n=b(this).data("animation-delay")?b(this).data("animation-delay"):s;b(this).children(".item").waypoint(function(){var e=this.element?this.element:b(this);o=setTimeout(function(){n=s},s);a.push(e);FELAN.element.process_item_queue(a,n,t);n+=s},{offset:"100%",triggerOnce:true})})},process_item_queue:function(e,a,t,n){clearTimeout(n);t=window.setInterval(function(){if(e!==undefined&&e.length){b(e.shift()).addClass("animate");FELAN.element.process_item_queue()}else{window.clearInterval(t)}},a)},widget_categories:function(){b(".widget_categories>ul>li").each(function(){if(b(this).find(".children").length>0){b(this).append('<i class="far fa-plus"></i>');b(this).on("click",function(){b(this).toggleClass("active")});b(".widget_categories>ul>li a").on("click",function(e){e.stopPropagation()})}})},swiper_carousel:function(){b(".felan-slider").each(function(){if(b(this).hasClass("felan-swiper-linked-yes")){var e=b(this).children(".felan-main-swiper").FelanSwiper();var a=b(this).children(".felan-thumbs-swiper").FelanSwiper();e.controller.control=a;a.controller.control=e}else{b(this).FelanSwiper()}})},WidgetFelanCarouselHandler:function(){b(".felan-carousel-activation").each(function(){var e=b(this);if(e.length>0){var a=e.data("settings");var t=a["arrows"];var n=a["arrow_prev_txt"];var s=a["arrow_next_txt"];var o=a["dots"];var i=a["autoplay"];var r=parseInt(a["autoplay_speed"])||3e3;var l=parseInt(a["animation_speed"])||300;var c=a["pause_on_hover"];var d=a["center_mode"];var p=a["center_padding"]?a["center_padding"]:"50px";var u=parseInt(a["display_columns"])||1;var f=parseInt(a["scroll_columns"])||1;var m=parseInt(a["tablet_width"])||800;var h=parseInt(a["tablet_display_columns"])||1;var v=parseInt(a["tablet_scroll_columns"])||1;var g=parseInt(a["mobile_width"])||480;var _=parseInt(a["mobile_display_columns"])||1;var w=parseInt(a["mobile_scroll_columns"])||1;var y=parseInt(a["carousel_style_ck"])||1;if(y==4){e.slick({arrows:t,prevArrow:'<button class="felan-carosul-prev">'+n+"</button>",nextArrow:'<button class="felan-carosul-next">'+s+"</button>",dots:o,customPaging:function(e,a){var t=e.$slides.eq(a).find(".felan-data-title").data("title");return"<h6>"+t+"</h6>"},infinite:true,autoplay:i,autoplaySpeed:r,speed:l,fade:false,pauseOnHover:c,slidesToShow:u,slidesToScroll:f,centerMode:d,centerPadding:p,responsive:[{breakpoint:m,settings:{slidesToShow:h,slidesToScroll:v}},{breakpoint:g,settings:{slidesToShow:_,slidesToScroll:w}}]})}else{e.slick({arrows:t,prevArrow:'<button class="felan-carosul-prev">'+n+"</button>",nextArrow:'<button class="felan-carosul-next">'+s+"</button>",dots:o,infinite:true,autoplay:i,autoplaySpeed:r,speed:l,fade:false,pauseOnHover:c,slidesToShow:u,slidesToScroll:f,centerMode:d,centerPadding:p,responsive:[{breakpoint:m,settings:{slidesToShow:h,slidesToScroll:v}},{breakpoint:g,settings:{slidesToShow:_,slidesToScroll:w}}]})}}})},slick_carousel:function(){var n=false;if(b("body").hasClass("rtl")){n=true}b(".slick-carousel").each(function(){var e=b(this);var a={slidesToShow:1,slidesToScroll:1,arrows:true,prevArrow:'<div class="gl-prev slick-arrow"><i class="far fa-chevron-left large"></i></div>',nextArrow:'<div class="gl-next slick-arrow"><i class="far fa-chevron-right large"></i></div>',dots:false,fade:false,infinite:false,centerMode:false,adaptiveHeight:true,pauseOnFocus:true,pauseOnHover:true,swipe:true,draggable:true,rtl:n,autoplay:false,autoplaySpeed:250,speed:250};if(e.hasClass("slick-nav")){a["prevArrow"]='<div class="gl-prev"><i class="far fa-chevron-left large"></i></div>';a["nextArrow"]='<div class="gl-next"><i class="far fa-chevron-right large"></i></div>'}var t=b.extend({},a,e.data("slick"));e.slick(t)})},main_menu:function(){b(".canvas-menu .menu-item-has-children>a,.canvas-menu .page_item_has_children>a").on("click",function(e){e.preventDefault();e.stopPropagation();var a=b(this).parent();if(a.hasClass("active")){a.removeClass("active");a.find(">.sub-menu,>.children").slideUp(300)}else{if(b(this).parents(".menu-item-has-children,.page_item_has_children").hasClass("active")==false){b(".canvas-menu li>.sub-menu,.canvas-menu li>.children").slideUp(300);b(".canvas-menu li").removeClass("active")}a.find(">.sub-menu,>.children").slideDown(300);a.addClass("active")}});b(".canvas-menu").on("click",".icon-menu",function(e){e.preventDefault();b(this).parents(".canvas-menu").toggleClass("active")});b(".canvas-menu").on("click",".btn-close,.bg-overlay",function(e){e.preventDefault();b(this).parents(".canvas-menu").removeClass("active");b("body").css("overflow","auto")});b(".site-menu .sub-menu").each(function(){var e=b(this).outerWidth();if(e>0){var a=b(this).offset();var t=b("body").outerWidth();var n=a.left;if(t<n+e){b(this).css("left","-100%")}}})},dropdown_select:function(){b(".dropdown-select").on("click",".entry-show",function(){b(this).parent().toggleClass("active")});FELAN.element.click_outside(".dropdown-select")},click_outside:function(t){b(document).on("click",function(e){var a=b(t);if(a!==e.target&&!a.has(e.target).length){a.removeClass("active")}})},elementor_header:function(){if(theme_vars.sticky_header==1){b(".elementor-location-header .elementor-section-wrap>.elementor-element").addClass("ricetheme-sticky")}if(theme_vars.float_header==1){b(".elementor-location-header .elementor-section-wrap>.elementor-element").addClass("ricetheme-float")}},sticky_header:function(){var e="";if(b("header.site-header").length>0){e=b("header.site-header").offset().top}var a=b("#wpadminbar").length;var t=0;var n=0;if(a>0){t=b("#wpadminbar").height();b(".sticky-header").addClass("has-wpadminbar")}if(b(window).scrollTop()>e-t){b(".sticky-header").addClass("on")}b(window).scroll(function(){if(b(window).scrollTop()>e-t){b(".sticky-header").addClass("on")}else{b(".sticky-header").removeClass("on")}})},popup:function(){b(".felan-on-popup").on("click",function(e){e.preventDefault();var a=b(this).attr("href");b(a).addClass("active");b("body").addClass("open-popup")});b(".felan-popup").on("click",".btn-close,.bg-overlay",function(){b(this).parents(".felan-popup").removeClass("active");b("body").removeClass("open-popup");b("body").css("overflow","auto")})},toggle_popup:function(){b(".popup").on("click",".bg-overlay, .btn-close",function(e){e.preventDefault();b("body").css("overflow","auto");b("body").removeClass("open-popup");b(this).parents(".popup").removeClass("open");b(".site-header").removeClass("show-popup")});b(".btn-open-popup").on("click",function(e){e.preventDefault();b("body").css("overflow","hidden");b("body").addClass("open-popup");b(".popup").removeClass("open");b(this).parent().find(".popup").addClass("open");b(".site-header").addClass("show-popup")});b("#secondary .jobs-booking .btn-open-popup").on("click",function(e){e.preventDefault();b("body").css("overflow","auto")});b(".btn-open-claim").on("click",function(e){e.preventDefault();b("body").css("overflow","hidden");b("body").addClass("open-popup");b(".popup").removeClass("open");b(this).parents(".claim-badge").find(".popup").addClass("open");b(".site-header").addClass("show-popup")});b("body").on("click",".logged-out a",function(e){e.preventDefault();b("body").css("overflow","hidden");var a=b(this).attr("class");b(".tabs-form a").removeClass("active");if(a.indexOf("btn-login")!=-1){b(".tabs-form a.btn-login").addClass("active")}if(a.indexOf("btn-register")!=-1){b(".tabs-form a.btn-register").addClass("active")}b(".body-popup .form-account").removeClass("active");b(".canvas-menu").removeClass("active");var t=b(".tabs-form a.active").attr("data-form");b(".body-popup ."+t).addClass("active");b(".popup").removeClass("open");var n=b(this).attr("href");b(n).addClass("open");b.ajax({dataType:"json",url:r,data:{action:"get_script_social_login"},beforeSend:function(){},success:function(n){if(n.success==true){let e=b(n.fb);let a=b(n.google);let t=b(n.captcha);b("body").append(e);b("body").append(a);b(".popup-account .form-captcha").html(t)}}})})},nav_tabs:function(){b(".tabs-form a").on("click",function(e){e.preventDefault();b(".tabs-form a").removeClass("active");b(this).addClass("active");b(".body-popup .form-account").each(function(){if(!b(this).hasClass("alway-show")){b(this).removeClass("active")}});var a=b(this).attr("data-form");if(a=="ux-register"){b(this).closest(".inner-popup").find(".footer-popup").fadeOut(0)}else{b(this).closest(".inner-popup").find(".footer-popup").fadeIn(0)}b(".body-popup ."+a).addClass("active")});b(".tab-group > ul li a").on("click",function(e){e.preventDefault();b(".tab-group > ul li").removeClass("active");b(this).parent().addClass("active");b(".tab-group .tab").removeClass("active");var a=b(this).attr("href");b(a).addClass("active")});b(".btn-reset-password").on("click",function(e){e.preventDefault();b(".ux-login").removeClass("active");b(".felan-reset-password-wrap").addClass("active")});b(".back-to-login").on("click",function(e){e.preventDefault();b(".felan-reset-password-wrap").removeClass("active");b(".ux-login").addClass("active")})},validate_form:function(){b.validator.addMethod("noSpecialChars",function(e,a){var t=/^[a-zA-Z0-9]*$/;var n=e.replace(/\s/g,"").replace(/[^\w\s]/gi,"");return this.optional(a)||t.test(n)},"Please enter a valid value without special characters or spaces.");b(".ux-login").each(function(){var a=b(this);var t=a.attr("data-redirect");a.validate({rules:{email:{required:true},password:{required:true,minlength:5,maxlength:30}},submitHandler:function(e){b.ajax({url:r,type:"POST",cache:false,dataType:"json",data:{email:a.find('input[name="email"]').val(),password:a.find('input[name="password"]').val(),reload:a.find('input[name="current_page"]').val(),captcha:a.find(".felan-captcha").val(),num_captcha:a.find(".felan-num-captcha").data("captcha"),action:"get_login_user"},beforeSend:function(){a.find("p.msg").removeClass("text-error text-success text-warning");a.find("p.msg").text(theme_vars.send_user_info);a.find("p.msg").show();b(".popup-account .loading-effect").fadeIn()},success:function(e){a.find("p.msg").text(e.messages);if(e.success!=true){a.find("p.msg").addClass(e.class)}else{if(e.url_redirect&&t=="yes"){window.location.href=e.url_redirect}else{location.reload()}}b(".popup-account .loading-effect").fadeOut()}})}})});b(".ux-register").each(function(){var a=b(this);var t=a.attr("data-redirect");var n=b(this).next();a.validate({rules:{reg_firstname:{required:true},reg_lastname:{required:true},reg_company_name:{required:true,noSpecialChars:true},reg_email:{required:true,email:true},reg_phone:{required:true},reg_password:{required:true,minlength:5,maxlength:20},accept_account:{required:true}},submitHandler:function(e){b.ajax({url:r,type:"POST",cache:false,dataType:"json",data:{account_type:a.find('input[name="account_type"]:checked').val(),firstname:a.find('input[name="reg_firstname"]').val(),lastname:a.find('input[name="reg_lastname"]').val(),companyname:a.find('input[name="reg_company_name"]').val(),email:a.find('input[name="reg_email"]').val(),phone:a.find('input[name="reg_phone"]').val(),phone_code:a.find('select[name="prefix_code"]').val(),password:a.find('input[name="reg_password"]').val(),captcha:a.find(".felan-captcha").val(),num_captcha:a.find(".felan-num-captcha").data("captcha"),action:"get_register_user"},beforeSend:function(){a.find("p.msg").removeClass("text-error text-success text-warning");a.find("p.msg").text(theme_vars.send_user_info);a.find("p.msg").show();b(".popup-account .loading-effect").fadeIn()},success:function(e){a.find("p.msg").text(e.messages);if(e.verify==true){a.find("p.msg").addClass(e.class);a.removeClass("active");n.addClass("active")}else{if(e.success!=true){a.find("p.msg").addClass(e.class)}else{if(e.url_redirect&&t=="yes"){window.location.href=e.url_redirect}else{location.reload()}}}b(".popup-account .loading-effect").fadeOut()}})}})});b(".ux-verify").each(function(){var a=b(this);var t=b(this).prev();a.validate({rules:{verify_code:{required:true},verify_code_phone:{required:true}},submitHandler:function(e){b.ajax({url:r,type:"POST",cache:false,dataType:"json",data:{verify_code:a.find('input[name="verify_code"]').val(),verify_code_phone:a.find('input[name="verify_code_phone"]').val(),account_type:t.find('input[name="account_type"]:checked').val(),firstname:t.find('input[name="reg_firstname"]').val(),lastname:t.find('input[name="reg_lastname"]').val(),companyname:t.find('input[name="reg_company_name"]').val(),email:t.find('input[name="reg_email"]').val(),phone:t.find('input[name="reg_phone"]').val(),phone_code:t.find('select[name="prefix_code"]').val(),password:t.find('input[name="reg_password"]').val(),action:"verify_code"},beforeSend:function(){a.find("p.msg").removeClass("text-error text-success text-warning");a.find("p.msg").text(theme_vars.send_user_info);a.find("p.msg").show();b(".popup-account .loading-effect").fadeIn()},success:function(e){a.find("p.msg").text(e.messages);if(e.success!=true){a.find("p.msg").addClass(e.class)}else{if(e.url_redirect){window.location.href=e.url_redirect}else{location.reload()}}b(".popup-account .loading-effect").fadeOut()}})}})});b(".ux-verify .resend").on("click",function(e){e.preventDefault();var a=b(this);b.ajax({type:"POST",dataType:"json",url:r,data:{companyname:b(".ux-register").find('input[name="reg_company_name"]').val(),email:b(".ux-register").find('input[name="reg_email"]').val(),phone:b(".ux-register").find('input[name="reg_phone"]').val(),resend:b(this).data("resend"),action:"felan_verify_resend"},beforeSend:function(){a.find(".btn-loading").css("display","inline-block")},success:function(){a.find(".btn-loading").css("display","none")}})});jQuery.extend(jQuery.validator.messages,{required:theme_vars.required,remote:theme_vars.remote,email:theme_vars.email,url:theme_vars.url,date:theme_vars.date,dateISO:theme_vars.dateISO,number:theme_vars.number,digits:theme_vars.digits,creditcard:theme_vars.creditcard,equalTo:theme_vars.equalTo,accept:theme_vars.accept,maxlength:jQuery.validator.format(theme_vars.maxlength),minlength:jQuery.validator.format(theme_vars.minlength),rangelength:jQuery.validator.format(theme_vars.rangelength),range:jQuery.validator.format(theme_vars.range),max:jQuery.validator.format(theme_vars.max),min:jQuery.validator.format(theme_vars.min)})},forget_password:function(e){b(".forgot-password").on("click",function(){b(".felan-resset-password-wrap").slideToggle()});b(".felan_forgetpass").on("click",function(e){e.preventDefault();var a=b(this).parents("form");b(".ux-login p.error").hide();b.ajax({type:"post",url:r,dataType:"json",data:a.serialize(),beforeSend:function(){b(".popup-account p.msg").removeClass("text-error text-success text-warning");b(".popup-account p.msg").text(theme_vars.forget_password);b(".felan-reset-password-wrap p.msg").show();b(".popup-account .loading-effect").fadeIn()},success:function(e){b(".felan-reset-password-wrap p.msg").text(e.message);b(".felan-reset-password-wrap p.msg").addClass(e.class);b(".popup-account .loading-effect").fadeOut()}})});b(".generate-password").on("click",function(e){e.preventDefault();var a={_pattern:/[a-zA-Z0-9_\-\+\.\}\{\?\!\@\#\$\%\&\*\~]/,_getRandomByte:function(){if(window.crypto&&window.crypto.getRandomValues){var e=new Uint8Array(1);window.crypto.getRandomValues(e);return e[0]}else if(window.msCrypto&&window.msCrypto.getRandomValues){var e=new Uint8Array(1);window.msCrypto.getRandomValues(e);return e[0]}else{return Math.floor(Math.random()*256)}},generate:function(e){return Array.apply(null,{length:e}).map(function(){var e;while(true){e=String.fromCharCode(this._getRandomByte());if(this._pattern.test(e)){return e}}},this).join("")}};b("#new-password").val(a.generate(24));b("#new-password-error").fadeOut()});b(".control-password span").on("click",function(){var e=b(this);if(e.hasClass("active")){e.removeClass("active");b("#new-password").attr("type","text")}else{e.addClass("active");b("#new-password").attr("type","password")}});b(".felan-new-password-wrap form").validate({rules:{new_password:{required:true,minlength:8}},submitHandler:function(e){var a=b(e).find('input[name="new_password"]').val();var t=b(e).find('input[name="login"]').val();b.ajax({type:"POST",url:r,data:{new_password:a,login:t,action:"change_password_ajax"},beforeSend:function(){b(".popup-account p.msg").removeClass("text-error text-success text-warning");b(".popup-account p.msg").text(theme_vars.change_password);b(".felan-new-password-wrap p.msg").show();b(".popup-account .loading-effect").fadeIn()},success:function(e){var e=b.parseJSON(e);b(".felan-new-password-wrap p.msg").text(e.message);b(".felan-new-password-wrap p.msg").addClass(e.class);b(".popup-account .loading-effect").fadeOut();var a=window.location.origin+window.location.pathname;window.location.href=a}})}})},ajax_login_fb:function(){b(".facebook-login").on("click",function(){var a=b(this).closest(".elementor-widget-felan-user-form").find("form").data("redirect");FB.login(function(e){if(e.status==="connected"){FB.api("/me",{fields:"id,name,email,short_name"},function(e){b.ajax({url:r,type:"POST",data:{id:e.id,email:e.email,name:e.name,action:"fb_ajax_login_or_register"},beforeSend:function(){b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").removeClass("text-error text-success text-warning");b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").text(theme_vars.forget_password);b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").show();b(".popup-account .loading-effect, .elementor-widget-felan-user-form .loading-effect").fadeIn()},success:function(e){var e=JSON.parse(e);b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").text(e.messages);b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").addClass(e.class);if(e.success==true){if(e.url_redirect&&a=="yes"){window.location.href=e.url_redirect}else{location.reload()}}b(".popup-account .loading-effect, .elementor-widget-felan-user-form .loading-effect").fadeOut()}})})}},{scope:"public_profile,email"})})},ajax_login_google:function(e){var n=theme_vars.google_id;b(".google-login").on("click",function(e){e.preventDefault();var t=b(this).closest(".elementor-widget-felan-user-form").find("form").data("redirect");gapi.load("auth2",function(){var e=["https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/plus.login"];var a;a=gapi.auth2.init({client_id:n,cookie_policy:"single_host_origin",fetch_basic_profile:true,ux_mode:"popup",scope:e.join(" "),prompt:"select_account",plugin_name:"felan"});a.signIn().then(function(){var e=a.currentUser.get().getBasicProfile();b.ajax({url:r,type:"POST",data:{action:"google_ajax_login_or_register",id:e.getId(),name:e.getName(),avatar:e.getImageUrl(),email:e.getEmail()},beforeSend:function(){b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").removeClass("text-error text-success text-warning");b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").text(theme_vars.forget_password);b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").show();b(".popup-account .loading-effect, .elementor-widget-felan-user-form .loading-effect").fadeIn()},success:function(e){var e=JSON.parse(e);b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").text(e.messages);b(".popup-account p.msg, .elementor-widget-felan-user-form p.msg").addClass(e.class);if(e.success==true){if(e.url_redirect&&t=="yes"){window.location.href=e.url_redirect}else{location.reload()}}b(".popup-account .loading-effect, .elementor-widget-felan-user-form .loading-effect").fadeOut()}})}).catch(function(e){console.error("Google Sign Up or Login Error: ",e)})})})},cookie_notices:function(){if(theme_vars.notice_cookie_enable==1&&theme_vars.notice_cookie_confirm!="yes"&&theme_vars.notice_cookie_messages!=""&&sessionStorage.getItem("hide-cookie-form")!="true"&&b("body.home").length>0){b.growl({location:"br",fixed:true,duration:36e5,size:"large",title:"",message:theme_vars.notice_cookie_messages});b("#felan-button-cookie-notice-not-ok").on("click",function(){b(this).closest("#growls-br").remove();sessionStorage.setItem("hide-cookie-form","true")});b("#felan-button-cookie-notice-ok").on("click",function(){b(this).closest("#growls-br").remove();var e={action:"notice_cookie_confirm"};e=b.param(e);b.ajax({url:theme_vars.ajax_url,type:"POST",data:e,dataType:"json",success:function(e){},error:function(e){console.log(e)}})})}}};FELAN.onReady={init:function(){FELAN.element.init()}};FELAN.onLoad={init:function(){FELAN.element.windowLoad()}};FELAN.onScroll={init:function(){var e=b(".jobs-head-details");if(e.length){var a=b(window).scrollTop();var t=e.offset().top+e.height();if(a>=t){b("body").addClass("jobs-header-sticky")}else{b("body").removeClass("jobs-header-sticky")}}}};FELAN.onResize={init:function(){}};b(document).ready(FELAN.onReady.init);b(window).scroll(FELAN.onScroll.init);b(window).resize(FELAN.onResize.init);b(window).load(FELAN.onLoad.init)})(jQuery);